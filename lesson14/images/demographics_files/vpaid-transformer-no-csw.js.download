/*!
 * v0.20.34 (c) 2021
 *
 * Includes:
 * - https://www.npmjs.com/package/bowser
 * - https://www.npmjs.com/package/camelcase
 * - https://www.npmjs.com/package/delay
 * - https://www.npmjs.com/package/es6-error
 * - https://www.npmjs.com/package/esm
 * - https://www.npmjs.com/package/eventemitter3
 * - https://www.npmjs.com/package/json-stringify-safe
 * - https://www.npmjs.com/package/node-fetch
 * - https://www.npmjs.com/package/p-defer
 * - https://www.npmjs.com/package/p-finally
 * - https://www.npmjs.com/package/promise-queue
 * - https://www.npmjs.com/package/protochain
 * - https://www.npmjs.com/package/unfetch
 * - https://www.npmjs.com/package/upper-case-first
 */
!function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function e(e,n,r){n&&t(e.prototype,n);r&&t(e,r);return e}function n(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.__proto__=e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return t(e={exports:{}},e.exports),e.exports}function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t;n=r});this.resolve=D(e);this.reject=D(n)}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t){return null==t?null:Object.getPrototypeOf(Object(t))}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t;n=r});this.resolve=Vc(e);this.reject=Vc(n)}Function.prototype.$asyncbind=function t(e,n){"use strict";function r(){return i.apply(e,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0});t.trampoline||(t.trampoline=function(t,e,n,r,i){return function o(s){for(;s;){if(s.then){s=s.then(o,r);return i?void 0:s}try{if(s.pop){if(s.length)return s.pop()?e.call(t):s;s=n}else s=s.call(t)}catch(t){return r(t)}}}});if(!t.LazyThenable){t.LazyThenable=function(){function t(t){return t&&t instanceof Object&&"function"==typeof t.then}function e(n,r,i){try{var o=i?i(r):r;if(n===o)return n.reject(new TypeError("Promise resolution loop"));t(o)?o.then(function(t){e(n,t)},function(t){n.reject(t)}):n.resolve(o)}catch(t){n.reject(t)}}function n(t){}function r(){}function i(n,i){var o=new r;try{this._resolver(function(r){return t(r)?r.then(n,i):e(o,r,n)},function(t){e(o,t,i)})}catch(t){e(o,t,i)}return o}function o(t){this._resolver=t;this.then=i}r.prototype={resolve:n,reject:n,then:function(t,e){this.resolve=t;this.reject=e}};o.resolve=function(t){return o.isThenable(t)?t:{then:function(e){return e(t)}}};o.isThenable=t;return o}();t.EagerThenable=t.Thenable=(t.EagerThenableFactory=function(t){function e(t){if(t){var e=this;t(function(t){e.resolve(t)},function(t){e.reject(t)})}}function n(t,e){if("function"==typeof t.y)try{var n=t.y.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.resolve(e)}function r(t,e){if("function"==typeof t.n)try{var n=t.n.call(void 0,e);t.p.resolve(n)}catch(e){t.p.reject(e)}else t.p.reject(e)}t=t||"object"==typeof Dn&&Dn.nextTick||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,0)};var i=function(){function e(){for(;n.length-r;){try{n[r]()}catch(t){}n[r++]=void 0;if(r===i){n.splice(0,i);r=0}}}var n=[],r=0,i=1024;return function(i){n.push(i);n.length-r==1&&t(e)}}();e.prototype={resolve:function(t){if(void 0===this.state){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var e=this;if(t&&("function"==typeof t||"object"==typeof t))try{var r=0,o=t.then;if("function"==typeof o){o.call(t,function(t){r++||e.resolve(t)},function(t){r++||e.reject(t)});return}}catch(t){r||this.reject(t);return}this.state=n;this.v=t;e.c&&i(function(){for(var r=0,i=e.c.length;r<i;r++)n(e.c[r],t)})}},reject:function(t){if(void 0===this.state){this.state=r;this.v=t;var e=this.c;e&&i(function(){for(var n=0,i=e.length;n<i;n++)r(e[n],t)})}},then:function(t,n){var r=new e,o={y:t,n:n,p:r};if(void 0===this.state)this.c?this.c.push(o):this.c=[o];else{var s=this.state,u=this.v;i(function(){s(o,u)})}return r}};e.resolve=function(t){if(t&&t instanceof e)return t;var n=new e;n.resolve(t);return n};e.reject=function(t){if(t&&t instanceof e)return t;var n=new e;n.reject(t);return n};e.version="2.3.3-nodent";return e})()}var i=this;switch(n){case!0:return new t.Thenable(r);case 0:return new t.LazyThenable(r);case void 0:r.then=r;return r;default:return function(){try{return i.apply(e,arguments)}catch(t){return n(t)}}}};var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},f=i(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),h=i(function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)}),d=(h.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),p=function(t){if(!d(t))throw TypeError(t+" is not an object!");return t},v=function(t){try{return!!t()}catch(t){return!0}},m=!v(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),g=f.document,y=d(g)&&d(g.createElement),b=function(t){return y?g.createElement(t):{}},_=!m&&!v(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),w=function(t,e){if(!d(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!d(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},A=Object.defineProperty,S={f:m?Object.defineProperty:function(t,e,n){p(t);e=w(e,!0);p(n);if(_)try{return A(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");"value"in n&&(t[e]=n.value);return t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=m?function(t,e,n){return S.f(t,e,E(1,n))}:function(t,e,n){t[e]=n;return t},P={}.hasOwnProperty,O=function(t,e){return P.call(t,e)},I=0,C=Math.random(),T=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+C).toString(36))},j=i(function(t){var e=T("src"),n=Function.toString,r=(""+n).split("toString");h.inspectSource=function(t){return n.call(t)};(t.exports=function(t,n,i,o){var s="function"==typeof i;s&&(O(i,"name")||k(i,"name",n));if(t[n]!==i){s&&(O(i,e)||k(i,e,t[n]?""+t[n]:r.join(String(n))));if(t===f)t[n]=i;else if(o)t[n]?t[n]=i:k(t,n,i);else{delete t[n];k(t,n,i)}}})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),D=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},M=function(t,e,n){D(t);if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){var r,i,o,s,u=t&x.F,a=t&x.G,c=t&x.S,l=t&x.P,d=t&x.B,p=a?f:c?f[e]||(f[e]={}):(f[e]||{}).prototype,v=a?h:h[e]||(h[e]={}),m=v.prototype||(v.prototype={});a&&(n=e);for(r in n){o=((i=!u&&p&&void 0!==p[r])?p:n)[r];s=d&&i?M(o,f):l&&"function"==typeof o?M(Function.call,o):o;p&&j(p,r,o,t&x.U);v[r]!=o&&k(v,r,s);l&&m[r]!=o&&(m[r]=o)}};f.core=h;x.F=1;x.G=2;x.S=4;x.P=8;x.B=16;x.W=32;x.U=64;x.R=128;var N=x,R={}.toString,L=function(t){return R.call(t).slice(8,-1)},V=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==L(t)?t.split(""):Object(t)},F=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return V(F(t))},G=Math.ceil,W=Math.floor,z=function(t){return isNaN(t=+t)?0:(t>0?W:G)(t)},B=Math.min,H=function(t){return t>0?B(z(t),9007199254740991):0},q=Math.max,Q=Math.min,K=function(t){return function(e,n,r){var i,o=U(e),s=H(o.length),u=function(t,e){return(t=z(t))<0?q(t+e,0):Q(t,e)}(r,s);if(t&&n!=n){for(;s>u;)if((i=o[u++])!=i)return!0}else for(;s>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},J=i(function(t){var e=f["__core-js_shared__"]||(f["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:h.version,mode:"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})}),X=J("keys"),Y=function(t){return X[t]||(X[t]=T(t))},Z=K(!1),$=Y("IE_PROTO"),tt=function(t,e){var n,r=U(t),i=0,o=[];for(n in r)n!=$&&O(r,n)&&o.push(n);for(;e.length>i;)O(r,n=e[i++])&&(~Z(o,n)||o.push(n));return o},et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),nt=Object.keys||function(t){return tt(t,et)},rt={f:Object.getOwnPropertySymbols},it={f:{}.propertyIsEnumerable},ot=function(t){return Object(F(t))},st=Object.assign,ut=!st||v(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";t[n]=7;r.split("").forEach(function(t){e[t]=t});return 7!=st({},t)[n]||Object.keys(st({},e)).join("")!=r})?function(t,e){for(var n=ot(t),r=arguments.length,i=1,o=rt.f,s=it.f;r>i;)for(var u,a=V(arguments[i++]),c=o?nt(a).concat(o(a)):nt(a),l=c.length,f=0;l>f;)s.call(a,u=c[f++])&&(n[u]=a[u]);return n}:st;N(N.S+N.F,"Object",{assign:ut});var at=i(function(t){var e=T("meta"),n=S.f,r=0,i=Object.isExtensible||function(){return!0},o=!v(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!d(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!O(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!O(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){o&&u.NEED&&i(t)&&!O(t,e)&&s(t);return t}}}),ct=(at.KEY,at.NEED,at.fastKey,at.getWeak,at.onFreeze,i(function(t){var e=J("wks"),n=f.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:T)("Symbol."+t))}).store=e})),lt=S.f,ft=ct("toStringTag"),ht=function(t,e,n){t&&!O(t=n?t:t.prototype,ft)&&lt(t,ft,{configurable:!0,value:e})},dt={f:ct},pt=S.f,vt=function(t){var e=h.Symbol||(h.Symbol=f.Symbol||{});"_"==t.charAt(0)||t in e||pt(e,t,{value:dt.f(t)})},mt=Array.isArray||function(t){return"Array"==L(t)},gt=m?Object.defineProperties:function(t,e){p(t);for(var n,r=nt(e),i=r.length,o=0;i>o;)S.f(t,n=r[o++],e[n]);return t},yt=f.document,bt=yt&&yt.documentElement,_t=Y("IE_PROTO"),wt=function(){},At=function(){var t,e=b("iframe"),n=et.length;e.style.display="none";bt.appendChild(e);e.src="javascript:";(t=e.contentWindow.document).open();t.write("<script>document.F=Object<\/script>");t.close();At=t.F;for(;n--;)delete At.prototype[et[n]];return At()},St=Object.create||function(t,e){var n;if(null!==t){wt.prototype=p(t);n=new wt;wt.prototype=null;n[_t]=t}else n=At();return void 0===e?n:gt(n,e)},Et=et.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(t){return tt(t,Et)}},Pt=kt.f,Ot={}.toString,It="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ct={f:function(t){return It&&"[object Window]"==Ot.call(t)?function(t){try{return Pt(t)}catch(t){return It.slice()}}(t):Pt(U(t))}},Tt=Object.getOwnPropertyDescriptor,jt={f:m?Tt:function(t,e){t=U(t);e=w(e,!0);if(_)try{return Tt(t,e)}catch(t){}if(O(t,e))return E(!it.f.call(t,e),t[e])}},Dt=at.KEY,Mt=jt.f,xt=S.f,Nt=Ct.f,Rt=f.Symbol,Lt=f.JSON,Vt=Lt&&Lt.stringify,Ft=ct("_hidden"),Ut=ct("toPrimitive"),Gt={}.propertyIsEnumerable,Wt=J("symbol-registry"),zt=J("symbols"),Bt=J("op-symbols"),Ht=Object.prototype,qt="function"==typeof Rt,Qt=f.QObject,Kt=!Qt||!Qt.prototype||!Qt.prototype.findChild,Jt=m&&v(function(){return 7!=St(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Mt(Ht,e);r&&delete Ht[e];xt(t,e,n);r&&t!==Ht&&xt(Ht,e,r)}:xt,Xt=function(t){var e=zt[t]=St(Rt.prototype);e._k=t;return e},Yt=qt&&"symbol"==typeof Rt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Rt},Zt=function(t,e,n){t===Ht&&Zt(Bt,e,n);p(t);e=w(e,!0);p(n);if(O(zt,e)){if(n.enumerable){O(t,Ft)&&t[Ft][e]&&(t[Ft][e]=!1);n=St(n,{enumerable:E(0,!1)})}else{O(t,Ft)||xt(t,Ft,E(1,{}));t[Ft][e]=!0}return Jt(t,e,n)}return xt(t,e,n)},$t=function(t,e){p(t);for(var n,r=function(t){var e=nt(t),n=rt.f;if(n)for(var r,i=n(t),o=it.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}(e=U(e)),i=0,o=r.length;o>i;)Zt(t,n=r[i++],e[n]);return t},te=function(t){var e=Gt.call(this,t=w(t,!0));return!(this===Ht&&O(zt,t)&&!O(Bt,t))&&(!(e||!O(this,t)||!O(zt,t)||O(this,Ft)&&this[Ft][t])||e)},ee=function(t,e){t=U(t);e=w(e,!0);if(t!==Ht||!O(zt,e)||O(Bt,e)){var n=Mt(t,e);!n||!O(zt,e)||O(t,Ft)&&t[Ft][e]||(n.enumerable=!0);return n}},ne=function(t){for(var e,n=Nt(U(t)),r=[],i=0;n.length>i;)O(zt,e=n[i++])||e==Ft||e==Dt||r.push(e);return r},re=function(t){for(var e,n=t===Ht,r=Nt(n?Bt:U(t)),i=[],o=0;r.length>o;)!O(zt,e=r[o++])||n&&!O(Ht,e)||i.push(zt[e]);return i};if(!qt){j((Rt=function(){if(this instanceof Rt)throw TypeError("Symbol is not a constructor!");var t=T(arguments.length>0?arguments[0]:void 0),e=function(n){this===Ht&&e.call(Bt,n);O(this,Ft)&&O(this[Ft],t)&&(this[Ft][t]=!1);Jt(this,t,E(1,n))};m&&Kt&&Jt(Ht,t,{configurable:!0,set:e});return Xt(t)}).prototype,"toString",function(){return this._k});jt.f=ee;S.f=Zt;kt.f=Ct.f=ne;it.f=te;rt.f=re;m&&j(Ht,"propertyIsEnumerable",te,!0);dt.f=function(t){return Xt(ct(t))}}N(N.G+N.W+N.F*!qt,{Symbol:Rt});for(var ie="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;ie.length>oe;)ct(ie[oe++]);for(var se=nt(ct.store),ue=0;se.length>ue;)vt(se[ue++]);N(N.S+N.F*!qt,"Symbol",{for:function(t){return O(Wt,t+="")?Wt[t]:Wt[t]=Rt(t)},keyFor:function(t){if(!Yt(t))throw TypeError(t+" is not a symbol!");for(var e in Wt)if(Wt[e]===t)return e},useSetter:function(){Kt=!0},useSimple:function(){Kt=!1}});N(N.S+N.F*!qt,"Object",{create:function(t,e){return void 0===e?St(t):$t(St(t),e)},defineProperty:Zt,defineProperties:$t,getOwnPropertyDescriptor:ee,getOwnPropertyNames:ne,getOwnPropertySymbols:re});Lt&&N(N.S+N.F*(!qt||v(function(){var t=Rt();return"[null]"!=Vt([t])||"{}"!=Vt({a:t})||"{}"!=Vt(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);n=e=r[1];if((d(e)||void 0!==t)&&!Yt(t)){mt(e)||(e=function(t,e){"function"==typeof n&&(e=n.call(this,t,e));if(!Yt(e))return e});r[1]=e;return Vt.apply(Lt,r)}}});Rt.prototype[Ut]||k(Rt.prototype,Ut,Rt.prototype.valueOf);ht(Rt,"Symbol");ht(Math,"Math",!0);ht(f.JSON,"JSON",!0);var ae=ct("unscopables"),ce=Array.prototype;null==ce[ae]&&k(ce,ae,{});var le=function(t){ce[ae][t]=!0},fe=function(t,e){return{value:e,done:!!t}},he={},de={};k(de,ct("iterator"),function(){return this});var pe=function(t,e,n){t.prototype=St(de,{next:E(1,n)});ht(t,e+" Iterator")},ve=Y("IE_PROTO"),me=Object.prototype,ge=Object.getPrototypeOf||function(t){t=ot(t);return O(t,ve)?t[ve]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?me:null},ye=ct("iterator"),be=!([].keys&&"next"in[].keys()),_e=function(){return this},we=function(t,e,n,r,i,o,s){pe(n,e,r);var u,a,c,l=function(t){if(!be&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h="values"==i,d=!1,p=t.prototype,v=p[ye]||p["@@iterator"]||i&&p[i],m=v||l(i),g=i?h?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=ge(y.call(new t)))!==Object.prototype&&c.next){ht(c,f,!0);"function"!=typeof c[ye]&&k(c,ye,_e)}if(h&&v&&"values"!==v.name){d=!0;m=function(){return v.call(this)}}(be||d||!p[ye])&&k(p,ye,m);he[e]=m;he[f]=_e;if(i){u={values:h?m:l("values"),keys:o?m:l("keys"),entries:g};if(s)for(a in u)a in p||j(p,a,u[a]);else N(N.P+N.F*(be||d),e,u)}return u},Ae=we(Array,"Array",function(t,e){this._t=U(t);this._i=0;this._k=e},function(){var t=this._t,e=this._k,n=this._i++;if(!t||n>=t.length){this._t=void 0;return fe(1)}return fe(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");he.Arguments=he.Array;le("keys");le("values");le("entries");for(var Se=ct("iterator"),Ee=ct("toStringTag"),ke=he.Array,Pe={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Oe=nt(Pe),Ie=0;Ie<Oe.length;Ie++){var Ce,Te=Oe[Ie],je=Pe[Te],De=f[Te],Me=De&&De.prototype;if(Me){Me[Se]||k(Me,Se,ke);Me[Ee]||k(Me,Ee,Te);he[Te]=ke;if(je)for(Ce in Ae)Me[Ce]||j(Me,Ce,Ae[Ce],!0)}}var xe=ct("toStringTag"),Ne="Arguments"==L(function(){return arguments}()),Re=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),xe))?n:Ne?L(e):"Object"==(r=L(e))&&"function"==typeof e.callee?"Arguments":r},Le={};Le[ct("toStringTag")]="z";Le+""!="[object z]"&&j(Object.prototype,"toString",function(){return"[object "+Re(this)+"]"},!0);var Ve=function(t,e){var n=(h.Object||{})[t]||Object[t],r={};r[t]=e(n);N(N.S+N.F*v(function(){n(1)}),"Object",r)};Ve("keys",function(){return function(t){return nt(ot(t))}});var Fe,Ue=-2,Ge={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError"},We=[Ge.AdLoaded,Ge.AdStarted,Ge.AdStopped,Ge.AdSkipped,Ge.AdImpression,Ge.AdVideoStart,Ge.AdVideoFirstQuartile,Ge.AdVideoMidpoint,Ge.AdVideoThirdQuartile,Ge.AdVideoComplete,Ge.AdError],ze={initAd:"initAd",resizeAd:"resizeAd",startAd:"startAd",stopAd:"stopAd",pauseAd:"pauseAd",resumeAd:"resumeAd",expandAd:"expandAd",collapseAd:"collapseAd",skipAd:"skipAd"},Be=[ze.initAd,ze.startAd,ze.stopAd,ze.skipAd];(Fe={})[ze.initAd]=[Ge.AdLoaded],Fe[ze.resizeAd]=[Ge.AdSizeChange],Fe[ze.startAd]=[Ge.AdStarted],Fe[ze.stopAd]=[Ge.AdStopped],Fe[ze.pauseAd]=[Ge.AdPaused],Fe[ze.resumeAd]=[Ge.AdPlaying],Fe[ze.expandAd]=[Ge.AdExpandedChange],Fe[ze.collapseAd]=[Ge.AdExpandedChange],Fe[ze.skipAd]=[Ge.AdSkipped,Ge.AdStopped];var He,qe={adLinear:{defaultValue:!0},adWidth:{defaultValue:Ue},adHeight:{defaultValue:Ue},adExpanded:{defaultValue:!1},adSkippableState:{defaultValue:!1},adRemainingTime:{defaultValue:Ue},adDuration:{defaultValue:Ue},adVolume:{writable:!0,defaultValue:Ue},adCompanions:{defaultValue:""},adIcons:{defaultValue:!1}},Qe=[Ge.AdVideoStart,Ge.AdVideoFirstQuartile,Ge.AdVideoMidpoint,Ge.AdVideoThirdQuartile,Ge.AdVideoComplete],Ke=[Ge.AdStopped,Ge.AdError];(He={})[Ge.AdSkipped]=["skip"],He[Ge.AdStarted]=["creativeView"],He[Ge.AdImpression]=["impression"],He[Ge.AdVideoStart]=["start"],He[Ge.AdVideoFirstQuartile]=["firstQuartile"],He[Ge.AdVideoMidpoint]=["midpoint"],He[Ge.AdVideoThirdQuartile]=["thirdQuartile"],He[Ge.AdVideoComplete]=["complete"],He[Ge.AdUserAcceptInvitation]=["acceptInvitation"],He[Ge.AdUserMinimize]=["collapse","playerCollapse"],He[Ge.AdUserClose]=["close","closeLinear"],He[Ge.AdPaused]=["pause"],He[Ge.AdPlaying]=["resume"],He[Ge.AdExpandedChange]=["expand","playerExpand"],He[Ge.AdError]=["error"],He[Ge.AdClickThru]=["click"];var Je=function(t){return null!=t&&"function"==typeof t.then},Xe=(Object.keys(Ge).map(function(t){return Ge[t]}),function(t,e,n){var r=ct(t),i=n(F,r,""[t]),o=i[0],s=i[1];if(v(function(){var e={};e[r]=function(){return 7};return 7!=""[t](e)})){j(String.prototype,t,o);k(RegExp.prototype,r,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})}}),Ye=ct("match"),Ze=function(t){var e;return d(t)&&(void 0!==(e=t[Ye])?!!e:"RegExp"==L(t))};Xe("split",2,function(t,e,n){var r=Ze,i=n,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var u,a,c,l,f,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,d+"g");s||(u=new RegExp("^"+m.source+"$(?!\\s)",d));for(;a=m.exec(n);){if((c=a.index+a[0].length)>p){h.push(n.slice(p,a.index));!s&&a.length>1&&a[0].replace(u,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(a[f]=void 0)});a.length>1&&a.index<n.length&&o.apply(h,a.slice(1));l=a[0].length;p=c;if(h.length>=v)break}m.lastIndex===a.index&&m.lastIndex++}p===n.length?!l&&m.test("")||h.push(""):h.push(n.slice(p));return h.length>v?h.slice(0,v):h}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]});Xe("replace",2,function(t,e,n){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},n]});var $e=/"/g,tn=function(t,e,n,r){var i=String(F(t)),o="<"+e;""!==n&&(o+=" "+n+'="'+String(r).replace($e,"&quot;")+'"');return o+">"+i+"</"+e+">"};!function(t,e){var n={};n.blink=function(t){return function(){return t(this,"blink","","")}}(tn);N(N.P+N.F*v(function(){var t="".blink('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}();Xe("match",1,function(t,e,n){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]});var en=S.f,nn=Function.prototype,rn=/^\s*function ([^ (]*)/;"name"in nn||m&&en(nn,"name",{configurable:!0,get:function(){try{return(""+this).match(rn)[1]}catch(t){return""}}});var on,sn=i(function(t){e=l,n=function(){function t(t){function e(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function n(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,s=e(/(ipod|iphone|ipad)/i).toLowerCase(),u=!/like android/i.test(t)&&/android/i.test(t),a=/nexus\s*[0-6]\s*/i.test(t),c=!a&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),p=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!v&&/windows/i.test(t)),g=!s&&!f&&/macintosh/i.test(t),y=!u&&!h&&!d&&!p&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=e(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),A=!w&&/[^-]mobi/i.test(t),S=/xbox/i.test(t);if(/opera/i.test(t))i={name:"Opera",opera:o,version:_||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)};else if(/opr\/|opios/i.test(t))i={name:"Opera",opera:o,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_};else if(/SamsungBrowser/i.test(t))i={name:"Samsung Internet for Android",samsungBrowser:o,version:_||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/Whale/i.test(t))i={name:"NAVER Whale browser",whale:o,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)};else if(/MZBrowser/i.test(t))i={name:"MZ Browser",mzbrowser:o,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/coast/i.test(t))i={name:"Opera Coast",coast:o,version:_||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)};else if(/focus/i.test(t))i={name:"Focus",focus:o,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)};else if(/yabrowser/i.test(t))i={name:"Yandex Browser",yandexbrowser:o,version:_||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)};else if(/ucbrowser/i.test(t))i={name:"UC Browser",ucbrowser:o,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)};else if(/mxios/i.test(t))i={name:"Maxthon",maxthon:o,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)};else if(/epiphany/i.test(t))i={name:"Epiphany",epiphany:o,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)};else if(/puffin/i.test(t))i={name:"Puffin",puffin:o,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)};else if(/sleipnir/i.test(t))i={name:"Sleipnir",sleipnir:o,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)};else if(/k-meleon/i.test(t))i={name:"K-Meleon",kMeleon:o,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)};else if(v){i={name:"Windows Phone",osname:"Windows Phone",windowsphone:o};if(b){i.msedge=o;i.version=b}else{i.msie=o;i.version=e(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(t))i={name:"Internet Explorer",msie:o,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)};else if(l)i={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(/edg([ea]|ios)/i.test(t))i={name:"Microsoft Edge",msedge:o,version:b};else if(/vivaldi/i.test(t))i={name:"Vivaldi",vivaldi:o,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||_};else if(h)i={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)};else if(/seamonkey\//i.test(t))i={name:"SeaMonkey",seamonkey:o,version:e(/seamonkey\/(\d+(\.\d+)?)/i)};else if(/firefox|iceweasel|fxios/i.test(t)){i={name:"Firefox",firefox:o,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)){i.firefoxos=o;i.osname="Firefox OS"}}else if(f)i={name:"Amazon Silk",silk:o,version:e(/silk\/(\d+(\.\d+)?)/i)};else if(/phantom/i.test(t))i={name:"PhantomJS",phantom:o,version:e(/phantomjs\/(\d+(\.\d+)?)/i)};else if(/slimerjs/i.test(t))i={name:"SlimerJS",slimer:o,version:e(/slimerjs\/(\d+(\.\d+)?)/i)};else if(/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t))i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:_||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)};else if(p){i={name:"WebOS",osname:"WebOS",webos:o,version:_||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(t)&&(i.touchpad=o)}else if(/bada/i.test(t))i={name:"Bada",osname:"Bada",bada:o,version:e(/dolfin\/(\d+(\.\d+)?)/i)};else if(d)i={name:"Tizen",osname:"Tizen",tizen:o,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_};else if(/qupzilla/i.test(t))i={name:"QupZilla",qupzilla:o,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_};else if(/chromium/i.test(t))i={name:"Chromium",chromium:o,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_};else if(/chrome|crios|crmo/i.test(t))i={name:"Chrome",chrome:o,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)};else if(u)i={name:"Android",version:_};else if(/safari|applewebkit/i.test(t)){i={name:"Safari",safari:o};_&&(i.version=_)}else if(s){i={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"};_&&(i.version=_)}else i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:o,version:e(/googlebot\/(\d+(\.\d+))/i)||_}:{name:e(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)};if(!i.msedge&&/(apple)?webkit/i.test(t)){if(/(apple)?webkit\/537\.36/i.test(t)){i.name=i.name||"Blink";i.blink=o}else{i.name=i.name||"Webkit";i.webkit=o}!i.version&&_&&(i.version=_)}else if(!i.opera&&/gecko\//i.test(t)){i.name=i.name||"Gecko";i.gecko=o;i.version=i.version||e(/gecko\/(\d+(\.\d+)?)/i)}if(i.windowsphone||!u&&!i.silk){if(!i.windowsphone&&s){i[s]=o;i.ios=o;i.osname="iOS"}else if(g){i.mac=o;i.osname="macOS"}else if(S){i.xbox=o;i.osname="Xbox"}else if(m){i.windows=o;i.osname="Windows"}else if(y){i.linux=o;i.osname="Linux"}}else{i.android=o;i.osname="Android"}var E="";i.windows?E=function(t){switch(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}():i.windowsphone?E=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?E=(E=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?E=(E=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):u?E=e(/android[ \/-](\d+(\.\d+)*)/i):i.webos?E=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?E=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?E=e(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(E=e(/tizen[\/\s](\d+(\.\d+)*)/i));E&&(i.osversion=E);var k=!i.windows&&E.split(".")[0];w||c||"ipad"==s||u&&(3==k||k>=4&&!A)||i.silk?i.tablet=o:(A||"iphone"==s||"ipod"==s||u||a||i.blackberry||i.webos||i.bada)&&(i.mobile=o);i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===r([i.version,"1.0"])||i.mzbrowser&&1===r([i.version,"6.0"])||i.focus&&1===r([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o;return i}function e(t){return t.split(".").length}function n(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function r(t){for(var r=Math.max(e(t[0]),e(t[1])),i=n(t,function(t){var i=r-e(t);return n((t+=new Array(i+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(e,n,i){var o=s;if("string"==typeof n){i=n;n=void 0}void 0===n&&(n=!1);i&&(o=t(i));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]){if("string"!=typeof e[a])throw new Error("Browser version in the minVersion map should be a string: "+a+": "+String(e));return r([u,e[a]])<0}return n}var o=!0,s=t("undefined"!=typeof navigator&&navigator.userAgent||"");s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1};s.isUnsupportedBrowser=i;s.compareVersions=r;s.check=function(t,e,n){return!i(t,e,n)};s._detect=t;s.detect=t;return s},t.exports?t.exports=n():e.bowser=n();var e,n}),un=["dns-prefetch","preconnect","prefetch","preload"],an={},cn=un.reverse();(on=document.createElement("link")).relList&&on.relList.supports?un.forEach(function(t){an[t]=on.relList.supports(t)}):Object.assign(an,{"dns-prefetch":sn.check({msie:"10",msedge:"12"},!0),prefetch:sn.check({msie:"11",msedge:"12"},!0),preload:sn.check({msedge:"17"},!0)});var ln=function(t){return!!an[t]},fn=function(t,e,n){void 0===e&&(e=document);void 0===n&&(n=null);if(null!=t&&null!=t.href&&null!=t.rel){t.rel=function(t,e){void 0===e&&(e=null);if(null==e){var n=cn.indexOf(t);n>=0&&(e=cn.slice(n+1))}if(null!=e)for(var r=0;r<e.length&&!ln(t);)t=e[r++];return ln(t)?t:null}(t.rel,n);if(null!=t.rel){if("dns-prefetch"===t.rel||"preconnect"===t.rel){t.href=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t.href);delete t.as;delete t.type}else"prefetch"!==t.rel&&"preload"!==t.rel||(t.href=(i=(r=t.href).indexOf("#"))<0?r:r.substr(0,i));var r,i,o=e.createElement("link");Object.assign(o,t);e.head.appendChild(o)}}},hn=function(){var t=p(this),e="";t.global&&(e+="g");t.ignoreCase&&(e+="i");t.multiline&&(e+="m");t.unicode&&(e+="u");t.sticky&&(e+="y");return e};m&&"g"!=/./g.flags&&S.f(RegExp.prototype,"flags",{configurable:!0,get:hn});var dn=/./.toString,pn=function(t){j(RegExp.prototype,"toString",t,!0)};v(function(){return"/a/b"!=dn.call({source:"a",flags:"b"})})?pn(function(){var t=p(this);return"/".concat(t.source,"/","flags"in t?t.flags:!m&&t instanceof RegExp?hn.call(t):void 0)}):"toString"!=dn.name&&pn(function(){return dn.call(this)});var vn,mn,gn,yn=function(){return""+(1e9+Math.floor(9e9*Math.random()))},bn=function(){return""+(new Date).getTime().toString(36)+yn().toString(16).substring(1)},_n=Symbol("name"),wn=Symbol("view"),An="cb_",Sn=function(){function t(t,e){void 0===e&&(e=null);var n,r;switch(typeof t){case"object":n=t.name;r=t.callback;break;case"string":n=t;break;case"function":r=t}null==n&&(n=An+bn());this[_n]=n;null!=e&&null!=e.defaultView&&(e=e.defaultView);this[wn]=null!=e?e:window;null!=r&&(this.callback=r)}var n=t.prototype;n.remove=function(){this.exists&&delete this[wn][this.name]};n.invoke=function(){this.exists&&this.callback.apply(this,arguments)};e(t,[{key:"name",get:function(){return this[_n]}},{key:"exists",get:function(){return null!=this.callback}},{key:"callback",get:function(){return null!=this[wn]&&"function"==typeof this[wn][this.name]?this[wn][this.name]:null},set:function(t){null!=this[wn]&&(this[wn][this.name]=t)}}]);return t}(),En=function(t,e,n,r){try{return r?e(p(n)[0],n[1]):e(n)}catch(e){var i=t.return;void 0!==i&&p(i.call(t));throw e}},kn=ct("iterator"),Pn=Array.prototype,On=function(t){return void 0!==t&&(he.Array===t||Pn[kn]===t)},In=ct("iterator"),Cn=h.getIteratorMethod=function(t){if(null!=t)return t[In]||t["@@iterator"]||he[Re(t)]},Tn=i(function(t){var e={},n={},r=t.exports=function(t,r,i,o,s){var u,a,c,l,f=s?function(){return t}:Cn(t),h=M(i,o,r?2:1),d=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(On(f)){for(u=H(t.length);u>d;d++)if((l=r?h(p(a=t[d])[0],a[1]):h(t[d]))===e||l===n)return l}else for(c=f.call(t);!(a=c.next()).done;)if((l=En(c,h,a.value,r))===e||l===n)return l};r.BREAK=e;r.RETURN=n}),jn=ct("species"),Dn=f.process,Mn=f.setImmediate,xn=f.clearImmediate,Nn=f.MessageChannel,Rn=f.Dispatch,Ln=0,Vn={},Fn=function(){var t=+this;if(Vn.hasOwnProperty(t)){var e=Vn[t];delete Vn[t];e()}},Un=function(t){Fn.call(t.data)};if(!Mn||!xn){Mn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);Vn[++Ln]=function(){!function(t,e,n){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3])}t.apply(void 0,e)}("function"==typeof t?t:Function(t),e)};vn(Ln);return Ln};xn=function(t){delete Vn[t]};if("process"==L(Dn))vn=function(t){Dn.nextTick(M(Fn,t,1))};else if(Rn&&Rn.now)vn=function(t){Rn.now(M(Fn,t,1))};else if(Nn){gn=(mn=new Nn).port2;mn.port1.onmessage=Un;vn=M(gn.postMessage,gn,1)}else if(f.addEventListener&&"function"==typeof postMessage&&!f.importScripts){vn=function(t){f.postMessage(t+"","*")};f.addEventListener("message",Un,!1)}else vn="onreadystatechange"in b("script")?function(t){bt.appendChild(b("script")).onreadystatechange=function(){bt.removeChild(this);Fn.call(t)}}:function(t){setTimeout(M(Fn,t,1),0)}}var Gn={set:Mn,clear:xn},Wn=Gn.set,zn=f.MutationObserver||f.WebKitMutationObserver,Bn=f.process,Hn=f.Promise,qn="process"==L(Bn),Qn={f:function(t){return new o(t)}},Kn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Jn=f.navigator,Xn=Jn&&Jn.userAgent||"",Yn=ct("species"),Zn=function(t){var e=f[t];m&&e&&!e[Yn]&&S.f(e,Yn,{configurable:!0,get:function(){return this}})},$n=ct("iterator"),tr=!1;try{[7][$n]().return=function(){tr=!0}}catch(t){}var er,nr,rr,ir,or=function(t,e){if(!e&&!tr)return!1;var n=!1;try{var r=[7],i=r[$n]();i.next=function(){return{done:n=!0}};r[$n]=function(){return i};t(r)}catch(t){}return n},sr=Gn.set,ur=function(){var t,e,n,r=function(){var r,i;qn&&(r=Bn.domain)&&r.exit();for(;t;){i=t.fn;t=t.next;try{i()}catch(r){t?n():e=void 0;throw r}}e=void 0;r&&r.enter()};if(qn)n=function(){Bn.nextTick(r)};else if(!zn||f.navigator&&f.navigator.standalone)if(Hn&&Hn.resolve){var i=Hn.resolve(void 0);n=function(){i.then(r)}}else n=function(){Wn.call(f,r)};else{var o=!0,s=document.createTextNode("");new zn(r).observe(s,{characterData:!0});n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i);if(!t){t=i;n()}e=i}}(),ar=f.TypeError,cr=f.process,lr=cr&&cr.versions,fr=lr&&lr.v8||"",hr=f.Promise,dr="process"==Re(cr),pr=function(){},vr=nr=Qn.f,mr=!!function(){try{var t=hr.resolve(1),e=(t.constructor={})[ct("species")]=function(t){t(pr,pr)};return(dr||"function"==typeof PromiseRejectionEvent)&&t.then(pr)instanceof e&&0!==fr.indexOf("6.6")&&-1===Xn.indexOf("Chrome/66")}catch(t){}}(),gr=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},yr=function(t,e){if(!t._n){t._n=!0;var n=t._c;ur(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,u=i?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{if(u){if(!i){2==t._h&&wr(t);t._h=1}if(!0===u)n=r;else{l&&l.enter();n=u(r);if(l){l.exit();s=!0}}n===e.promise?c(ar("Promise-chain cycle")):(o=gr(n))?o.call(n,a,c):a(n)}else c(r)}catch(t){l&&!s&&l.exit();c(t)}};n.length>o;)s(n[o++]);t._c=[];t._n=!1;e&&!t._h&&br(t)})}},br=function(t){sr.call(f,function(){var e,n,r,i=t._v,o=_r(t);if(o){e=Kn(function(){dr?cr.emit("unhandledRejection",i,t):(n=f.onunhandledrejection)?n({promise:t,reason:i}):(r=f.console)&&r.error&&r.error("Unhandled promise rejection",i)});t._h=dr||_r(t)?2:1}t._a=void 0;if(o&&e.e)throw e.v})},_r=function(t){return 1!==t._h&&0===(t._a||t._c).length},wr=function(t){sr.call(f,function(){var e;dr?cr.emit("rejectionHandled",t):(e=f.onrejectionhandled)&&e({promise:t,reason:t._v})})},Ar=function(t){var e=this;if(!e._d){e._d=!0;(e=e._w||e)._v=t;e._s=2;e._a||(e._a=e._c.slice());yr(e,!0)}},Sr=function(t){var e,n=this;if(!n._d){n._d=!0;n=n._w||n;try{if(n===t)throw ar("Promise can't be resolved itself");if(e=gr(t))ur(function(){var r={_w:n,_d:!1};try{e.call(t,M(Sr,r,1),M(Ar,r,1))}catch(t){Ar.call(r,t)}});else{n._v=t;n._s=1;yr(n,!1)}}catch(t){Ar.call({_w:n,_d:!1},t)}}};if(!mr){hr=function(t){!function(t,e,n,r){if(!(t instanceof hr)||"_h"in t)throw TypeError("Promise: incorrect invocation!")}(this);D(t);er.call(this);try{t(M(Sr,this,1),M(Ar,this,1))}catch(t){Ar.call(this,t)}};(er=function(t){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=function(t,e,n){for(var r in e)j(t,r,e[r],void 0);return t}(hr.prototype,{then:function(t,e){var n,r,i,o=vr((n=hr,void 0===(i=p(this).constructor)||null==(r=p(i)[jn])?n:D(r)));o.ok="function"!=typeof t||t;o.fail="function"==typeof e&&e;o.domain=dr?cr.domain:void 0;this._c.push(o);this._a&&this._a.push(o);this._s&&yr(this,!1);return o.promise},catch:function(t){return this.then(void 0,t)}});rr=function(){var t=new er;this.promise=t;this.resolve=M(Sr,t,1);this.reject=M(Ar,t,1)};Qn.f=vr=function(t){return t===hr||t===ir?new rr(t):nr(t)}}N(N.G+N.W+N.F*!mr,{Promise:hr});ht(hr,"Promise");Zn("Promise");ir=h.Promise;N(N.S+N.F*!mr,"Promise",{reject:function(t){var e=vr(this);(0,e.reject)(t);return e.promise}});N(N.S+N.F*!mr,"Promise",{resolve:function(t){return function(t,e){p(t);if(d(e)&&e.constructor===t)return e;var n=Qn.f(t);(0,n.resolve)(e);return n.promise}(this,t)}});N(N.S+N.F*!(mr&&or(function(t){hr.all(t).catch(pr)})),"Promise",{all:function(t){var e=this,n=vr(e),r=n.resolve,i=n.reject,o=Kn(function(){var n=[],o=0,s=1;Tn(t,!1,function(t){var u=o++,a=!1;n.push(void 0);s++;e.resolve(t).then(function(t){if(!a){a=!0;n[u]=t;--s||r(n)}},i)});--s||r(n)});o.e&&i(o.v);return n.promise},race:function(t){var e=this,n=vr(e),r=n.reject,i=Kn(function(){Tn(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});i.e&&r(i.v);return n.promise}});we(String,"String",function(t){this._t=String(t);this._i=0},function(){var t,e,n,r,i,o,s,u=this._t,a=this._i;if(a>=u.length)return{value:void 0,done:!0};t=(e=a,i=String(F(u)),o=z(e),s=i.length,o<0||o>=s?"":(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?i.charAt(o):i.slice(o,o+2));this._i+=t.length;return{value:t,done:!1}});var Er=function(t,e){if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);var n;if(0===(t=Array.isArray(t)?t.map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length)return"";if(1===t.length)return e.pascalCase?t.toUpperCase():t.toLowerCase();t!==t.toLowerCase()&&(t=function(t){for(var e=!1,n=!1,r=!1,i=0;i<t.length;i++){var o=t[i];if(e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o){t=t.slice(0,i)+"-"+t.slice(i);e=!1;r=n;n=!0;i++}else if(n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o){t=t.slice(0,i-1)+"-"+t.slice(i-1);r=n;n=!1;e=!0}else{e=o.toLowerCase()===o&&o.toUpperCase()!==o;r=n;n=o.toUpperCase()===o&&o.toLowerCase()!==o}}return t}(t));return n=t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}).replace(/\d+(\w|$)/g,function(t){return t.toUpperCase()}),e.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n},kr=Er,Pr=Er;kr.default=Pr;var Or=function(t,e,n){t.setAttribute(e,n)},Ir=function(t,e,n){t[e]=kr(n)},Cr=function(t,e,n){void 0===n&&(n=!1);if(null!=t&&null!=t.style){var r="function"==typeof t.style.setProperty,i=n?"important":"";Object.keys(e).forEach(function(n){var o=e[n];r?t.style.setProperty(n,o,i):t.style[n]=o})}},Tr=function(t,e,n,r,i){void 0===i&&(i=!1);return function(t,e,n,r,i,o){void 0===o&&(o=!1);var s=t.createElementNS("http://www.w3.org/2000/svg",n);null!=r&&function(t,e){var n="function"==typeof t.setAttribute?Or:Ir;Object.keys(e).forEach(function(r){n(t,r,e[r])})}(s,r);null!=i&&Cr(s,i,o);return s}(t,0,e,n,r,i)},jr=function(){var t=new Error("Delay aborted");t.name="AbortError";return t},Dr=function(t){var e=t.clearTimeout,n=void 0===e?clearTimeout:e,r=t.setTimeout,i=void 0===r?setTimeout:r,o=t.willResolve;return function(t,e){var r,s,u,a=void 0===e?{}:e,c=a.value,l=a.signal;if(l&&l.aborted)return Promise.reject(jr());var f=function(){n(r);u(jr())},h=function(){l&&l.removeEventListener("abort",f)},d=new Promise(function(e,n){s=function(){h();o?e(c):n(c)};u=n;r=i(s,t)});l&&l.addEventListener("abort",f,{once:!0});d.clear=function(){n(r);r=null;h();s()};return d}},Mr=Dr({willResolve:!0});Mr.reject=Dr({willResolve:!1});Mr.createWithTimers=function(t){var e=t.clearTimeout,n=t.setTimeout,r=Dr({clearTimeout:e,setTimeout:n,willResolve:!0});r.reject=Dr({clearTimeout:e,setTimeout:n,willResolve:!1});return r};var xr=Mr,Nr=Mr;xr.default=Nr;var Rr=function(){},Lr=function(){var t={};t.promise=new Promise(function(e,n){t.resolve=e;t.reject=n});return t},Vr=Lr,Fr=Lr;Vr.default=Fr;var Ur=function(t,e){var n=Vr(),r=function r(){t.removeEventListener(e,r);n.resolve()};t.addEventListener(e,r);n.promise.cancel=function(){t.removeEventListener(e,r);n.reject(new Error("Canceled"))};return n.promise},Gr=function(t){return new Promise(function(e,n){var r,i,o,s,u=function(t){return function(e){try{r.cancel();i.cancel();return t&&t.call(this,e)}catch(t){return n(t)}}.bind(this)}.bind(this);void 0===t&&(t=document);if(null!=t.body)return e();r=(o=t,s="body",function(t,e){var n=Vr(),r=setInterval(function(){null!=o[s]&&n.resolve()},20);n.promise.cancel=function(){clearInterval(r);n.reject(new Error("Canceled"))};return n.promise}());i=Ur(t,"DOMContentLoaded");r.catch(Rr);i.catch(Rr);var a=function(){try{return e()}catch(t){return n(t)}},c=function(t){try{throw t}catch(t){return u(n)(t)}};try{return Promise.resolve(Promise.race([r,i])).then(function(t){try{return u(a)()}catch(t){return c(t)}},c)}catch(t){c(t)}})},Wr=function(t){return new Promise(function(e,n){function r(){return null==t.contentWindow||null==t.contentWindow.document?Promise.resolve(xr(100)).then(function(t){try{return r}catch(t){return n(t)}},n):[1]}function i(){return e()}var o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,n);try{if(t.pop){if(t.length)return t.pop()?i.call(this):t;t=r}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(r)})},zr=Symbol("data"),Br=function(){function t(t){this[zr]=Object.create(null)}var e=t.prototype;e._get=function(t){return this[zr][t]};e._put=function(t,e){this[zr][t]=e};e._putAll=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var r=e[n],i=t[r];this._put(r,i)}};return t}(),Hr=Symbol("listeners"),qr=function(){function t(){this[Hr]=[]}var n=t.prototype;n.add=function(t,e,n,r){void 0===r&&(r=null);if(!function(t){return null!=t&&"function"==typeof t.addEventListener}(t))return this;null!=r&&(n=n.bind(r));t.addEventListener(e,n);this[Hr].push({target:t,type:e,listener:n});return this};n.addMany=function(t,e,n){var r=this;void 0===n&&(n=null);Object.keys(e).forEach(function(i){return r.add(t,i,e[i],n)});return this};n.removeAll=function(){this[Hr].splice(0).forEach(function(t){var e=t.target,n=t.type,r=t.listener;e.removeEventListener(n,r)});return this};e(t,[{key:"count",get:function(){return this[Hr].length}}]);return t}(),Qr=function(t,e){p(t);if(!d(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Kr={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=M(Function.call,jt.f(Object.prototype,"__proto__").set,2))(t,[]);e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){Qr(t,r);e?t.__proto__=r:n(t,r);return t}}({},!1):void 0),check:Qr};N(N.S,"Object",{setPrototypeOf:Kr.set});var Jr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0});Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0});if(Error.hasOwnProperty("captureStackTrace")){Error.captureStackTrace(n,n.constructor);return s(n)}Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0});return n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,function(t){function e(){t.apply(this,arguments)}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t;return e}(Error));return e}(),Xr=function(t){function e(e){var n;(n=t.call(this,e)||this).name="CancelError";return n}n(e,t);return e}(Jr),Yr=function(t){function e(){var e;(e=t.call(this,"Guest VPAID not available")||this).name="GuestNotAvailableError";return e}n(e,t);return e}(Jr),Zr=function(t){function e(e,n,r,i){var o;void 0===e&&(e=null);void 0===n&&(n=null);void 0===r&&(r=null);void 0===i&&(i=null);(o=t.call(this,e)||this).message=e;o.code=n;o.subject=i;o.cause=r;return o}n(e,t);e.prototype.toString=function(){return"VAST error"+(null==this.code?"":" "+this.code)+(null==this.message||0===this.message.length?" (no error message)":": "+this.message)};return e}(Jr),$r=function(t){function e(e){var n;(n=t.call(this,'Method "'+e+'" not available',405)||this).name="MethodNotAvailableError";return n}n(e,t);return e}(Zr),ti=/\/js\/vpaid-transformer\/[^\/]+\/[a-z0-9-]+\.js#/,ei=null,ni=function(){null==ei&&(ei=document.currentScript||function(){for(var t=document.querySelectorAll("script"),e=null,n=t.length-1;n>=0&&null==e;){var r=t[n],i=r.src;null!=i&&ti.test(i)&&(e=r);--n}return e}());return ei},ri=f.Reflect,ii=ri&&ri.ownKeys||function(t){var e=kt.f(p(t)),n=rt.f;return n?e.concat(n(t)):e},oi=function(t,e,n){e in t?S.f(t,e,E(0,n)):t[e]=n};N(N.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=U(t),i=jt.f,o=ii(r),s={},u=0;o.length>u;)void 0!==(n=i(r,e=o[u++]))&&oi(s,e,n);return s}});var si=["caller","callee","arguments"],ui=function(t,e){var n={enumerable:!1,writable:!1,value:t[e]};Object.defineProperty(t,e,n)},ai=(ct("species"),function(t,e,n){for(var r,i=ot(t),o=V(i),s=M(e,n,3),u=H(o.length),a=0;u>a;a++)if(s(r=o[a],a,i))return r}),ci=!0;"find"in[]&&Array(1).find(function(){ci=!1});N(N.P+N.F*ci,"Array",{find:function(t){return ai(this,t,arguments.length>1?arguments[1]:void 0)}});le("find");var li=function(t){if(null==t||""===t)return null;if("undefined"!=typeof URL&&URL instanceof Function)return new URL(t).hostname;var e=document.createElement("a");e.href=t;return e.hostname},fi=function(t){return function(e){e=""+e;for(;e.length<t;)e="0"+e;return e}},hi=fi(2),di=fi(3),pi=function(t){var e=t.domainLookupStart,n=t.domainLookupEnd,r=t.connectStart,i=t.connectEnd,o=t.secureConnectionStart,s=t.requestStart,u=t.responseStart,a=t.responseEnd,c={dns:Math.round(n-e),tcpHandshake:Math.round(i-r),response:Math.round(a-u),requestStartUntilResponseEnd:Math.round(a-s)};o>0&&(c.secureConnection=Math.round(i-o));return c},vi=function(t){var e=function(t){var e=null;try{e=performance.getEntriesByType("resource").find(function(e){return e.name===t})}catch(t){}return e}(t);return null==e?null:pi(e)},mi=function(t,e,n){void 0===e&&(e=null);void 0===n&&(n=document);return new Promise(function(r,i){var o=n.createElement("script");o.addEventListener("load",function(){return r(o)});o.addEventListener("error",function(){return i(new Zr('Failed to insert "'+t+'"',405))});o.src=t;o.crossOrigin=e;n.getElementsByTagName("head")[0].appendChild(o)})},gi=function(t,e,n){if(Ze(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(F(t))},yi=ct("match"),bi=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{e[yi]=!1;return!"/./"[t](e)}catch(t){}}return!0},_i="".startsWith;N(N.P+N.F*bi("startsWith"),"String",{startsWith:function(t){var e=gi(this,t,"startsWith"),n=H(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return _i?_i.call(e,r,n):e.slice(n,n+r.length)===r}});var wi,Ai=function(t){return null==t||""===(""+t).trim()||Array.isArray(t)&&null==t.length},Si=/^(?:application|text)\/xml\+vast$/i,Ei=/^(?:application|text)\/(?:x-)?javascript$/i,ki=/^video\//i,Pi=function(t){var e=t.type;return"VPAID"===t.apiFramework&&Ei.test(e)},Oi=[{eval:function(t){var e=t.type,n=t.apiFramework;return Ai(n)&&Si.test(e)},result:"vast"},{eval:Pi,result:"vpaid"},{eval:function(t){var e=t.type,n=t.apiFramework;return Ai(n)&&ki.test(e)},result:"video"}],Ii=function(t){return Oi.reduce(function(e,n){return n.eval(t)?n.result:e},null)},Ci=function(t){var e=0,n=null;return function(){if(0===e)try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=t.apply(this,i);e=1}catch(t){n=t;e=2}if(2===e)throw n;return n}},Ti=function(){return(new Date).getTime()},ji=function(){function t(t,e,n){this.options=n=n||{};this.pendingPromises=0;this.maxPendingPromises=void 0!==t?t:1/0;this.maxQueuedPromises=void 0!==e?e:1/0;this.queue=[]}var e="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},n=function(){};t.configure=function(t){e=t};t.prototype.add=function(t){var r=this;return new e(function(e,i,o){if(r.queue.length>=r.maxQueuedPromises)i(new Error("Queue limit reached"));else{r.queue.push({promiseGenerator:t,resolve:e,reject:i,notify:o||n});r._dequeue()}})};t.prototype.getPendingLength=function(){return this.pendingPromises};t.prototype.getQueueLength=function(){return this.queue.length};t.prototype._dequeue=function(){var t=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n,r=this.queue.shift();if(!r){this.options.onEmpty&&this.options.onEmpty();return!1}try{this.pendingPromises++;(n=r.promiseGenerator(),n&&"function"==typeof n.then?n:new e(function(t){t(n)})).then(function(e){t.pendingPromises--;r.resolve(e);t._dequeue()},function(e){t.pendingPromises--;r.reject(e);t._dequeue()},function(t){r.notify(t)})}catch(e){t.pendingPromises--;r.reject(e);t._dequeue()}return!0};return t}(),Di={tr:{regexp:/[\u0069]/g,map:{i:"Ä°"}},az:{regexp:/[\u0069]/g,map:{i:"Ä°"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"iÌ":"I","jÌ":"J","Ä¯Ì":"Ä®","iÌÌ":"Ã","iÌÌ":"Ã","iÌÌ":"Ä¨"}}},Mi=function(t,e){return null==t?"":function(t,e){var n=Di[e];t=null==t?"":String(t);n&&(t=t.replace(n.regexp,function(t){return n.map[t]}));return t.toUpperCase()}((t=String(t)).charAt(0),e)+t.substr(1)},xi=Symbol("plugins"),Ni=Symbol("queue"),Ri=Symbol("logger"),Li=function(){function t(){this[xi]=[];this[Ni]=new ji(1);this.dispose=Ci(this.dispose)}var n=t.prototype;n.addPlugin=function(t){this[xi].push(t)};n.dispose=function(){var t=this;return Promise.all(this._runStageHooks("dispose",[])).then(function(){return t[Ri].info("Plugin disposal finished")})};n.runPhase=function(t,e,n,r){return new Promise(function(i,o){var s=this;void 0===r&&(r=null);return i(this[Ni].add(function(){return new Promise(function(i,o){return i(s._runPhase0(t,e,n,r))})}))}.bind(this))};n.runPhaseSync=function(t,e,n,r){var i=Mi(t);this._runStageHooks("before"+i+"Sync",e);var o=n.apply(void 0,e);this._runStage("after"+i,[].concat(e,[o])).catch(r);return o};n._runPhase0=function(t,e,n,r){return new Promise(function(i,o){var s,u,a;if(null!=r&&r())return o(new Error("Phase "+t+" canceled"));s=Mi(t);var c=function(){try{u=n.apply(void 0,e);return Promise.resolve(new Promise(function(t,e){return Je(u)?Promise.resolve(u).then(t,e):t(u)})).then(function(t){try{a=t;return Promise.resolve(this._runStage("after"+s,[].concat(e,[u]))).then(function(t){try{return i(a)}catch(t){return o(t)}},o)}catch(t){return o(t)}}.bind(this),o)}catch(t){return o(t)}}.bind(this),l=function(t){try{if(t instanceof Xr)return i(null);throw t}catch(t){return o(t)}};try{return Promise.resolve(this._runStage("before"+s,e)).then(function(t){try{return c()}catch(t){return l(t)}},l)}catch(t){l(t)}}.bind(this))};n._runStage=function(t,e){return new Promise(function(n,r){return n(Promise.all(this._runStageHooks(t,e)))}.bind(this))};n._runStageHooks=function(t,e){return this[xi].filter(function(e){return null!=e[t]}).map(function(n){return n[t].apply(n,e)}).filter(Je)};e(t,[{key:"plugins",get:function(){return this[xi].slice()}}]);return t}(),Vi=function(t,e){e=e||function(){};return t.then(function(t){return new Promise(function(t){t(e())}).then(function(){return t})},function(t){return new Promise(function(t){t(e())}).then(function(){throw t})})},Fi=function(t){return function(){var e=Ti(),n=Vi(t.apply(void 0,arguments),function(){var t=Ti();n.time=t-e});return n}},Ui=function(t,e,n){void 0===n&&(n="Timed out");var r=xr.reject(e,{value:new Error(n)});r.catch(Rr);return Vi(Promise.race([t,r]),function(){r.clear()})},Gi=function(t){var e={};Object.keys(t).filter(function(e){return null!=t[e]}).forEach(function(n){e[n]=t[n]});return e},Wi={timestamp:function(){return encodeURIComponent((e=(t=new Date).getTimezoneOffset(),r=((n=Math.floor(e/60))<0?"+"+hi(-n):"-"+hi(n))+":"+hi(e%60),t.getFullYear()+"-"+hi(t.getMonth()+1)+"-"+hi(t.getDate())+"T"+hi(t.getHours())+":"+hi(t.getMinutes())+":"+hi(t.getSeconds())+"."+di(t.getMilliseconds())+r));var t,e,n,r},cachebusting:function(){return(""+yn()).substring(0,8)},errorcode:function(t){var e=t.errorcode;return null!=e?e:900},serverside:function(){return"0"},apiframeworks:function(){return"2"},vastversions:function(){return"2,3,5,6,7,8,11,12,13,14"},verificationvendors:function(){return""},extensions:function(){return""}},zi=/\[([A-Z_]+)]/g,Bi=function(t){var e,n=((e={})[91]=t.dns,e[92]=t.tcpHandshake,e[94]=t.response,e[95]=t.requestStartUntilResponseEnd,e);t.secureConnectionStart>0&&(n[93]=t.secureConnectionStart);return n},Hi=[].sort,qi=[1,2,3];N(N.P+N.F*(v(function(){qi.sort(void 0)})||!v(function(){qi.sort(null)})||!(wi=Hi,wi&&v(function(){wi.call(null)}))),"Array",{sort:function(t){return void 0===t?Hi.call(ot(this)):Hi.call(ot(this),D(t))}});var Qi=it.f,Ki=function(t){for(var e,n=U(t),r=nt(n),i=r.length,o=0,s=[];i>o;)Qi.call(n,e=r[o++])&&s.push([e,n[e]]);return s};N(N.S,"Object",{entries:function(t){return Ki(t)}});var Ji,Xi,Yi=/^[^:]+:\/\/tpc\.googlesyndication\.com\/pagead\/js\/loader/,Zi=/^[^:]+:\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js\b/,$i=Math.sqrt(2),to=["video/3gpp"],eo=((Ji={}).vpaid=1,Ji.video=2,Ji.vast=3,Ji),no=function(t){return t.width*t.height},ro=function(t){return t.reduce(function(t,e){return no(e)<no(t)?e:t})},io=function(t){return t.reduce(function(t,e){return no(e)>no(t)?e:t})},oo=function(t,e){for(var n=e.selector,r=e.filter,i=null,o=0;o<t.length&&null==i;){var s=t[o].filter(r);s.length>0&&(i=n(s));++o}return i},so=function(t){return t>0?t:1/0},uo=function(t,e,n,r){var i=function(t,e,n){for(var r={},i=0;i<t.length;++i){var o=t[i].type;Object.prototype.hasOwnProperty.call(r,o)||(r[o]=e.canPlayType(o))}for(var s={},u=0;u<n.length;++u)s[n[u]]=[];for(var a=0;a<t.length;++a){var c=t[a],l=r[c.type];null!=s[l]&&s[l].push(c)}return s}(t,n,["probably"].concat(r?["maybe"]:[])),o=i.probably,s=void 0===o?[]:o,u=i.maybe,a=void 0===u?[]:u;if(s.length+a.length===0)return null;for(var c=null,l=0;l<e.length&&null==c;){c=oo([s,a],e[l]);++l}return c},ao=((Xi={}).vast=function(t){return t[0]},Xi.vpaid=function(t){return function(t){var e=t.filter(Pi);return e.length>0?io(e):null}(t)},Xi.video=function(t,e,n){var r,i=t.filter(function(t){var e=t.type;return to.indexOf(e)<0}),o=i.length>0?i:t;null!=n&&"function"==typeof n.canPlayType&&(r=uo(o,e,n,!1));null==r&&(r=uo(o,e,document.createElement("video"),!0));return r},Xi),co=function(t,e){return eo[t]-eo[e]};N(N.S+N.F*!or(function(t){}),"Array",{from:function(t){var e,n,r,i,o=ot(t),s="function"==typeof this?this:Array,u=arguments.length,a=u>1?arguments[1]:void 0,c=void 0!==a,l=0,f=Cn(o);c&&(a=M(a,u>2?arguments[2]:void 0,2));if(null==f||s==Array&&On(f))for(n=new s(e=H(o.length));e>l;l++)oi(n,l,c?a(o[l],l):o[l]);else for(i=f.call(o),n=new s;!(r=i.next()).done;l++)oi(n,l,c?En(i,a,[r.value,l],!0):r.value);n.length=l;return n}});var lo=i(function(t,e){function n(t,e){var n=[],r=[];null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"});return function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this);~s?r.splice(s,1/0,i):r.push(i);~n.indexOf(o)&&(o=e.call(this,i,o))}else n.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function(t,e,r,i){return JSON.stringify(t,n(e,i),r)}).getSerialize=n}),fo=(lo.getSerialize,function t(e,n){var r,i;switch(typeof e){case"object":if(null==e)return e;if(null!=e.nodeType)return"[DOM "+function(t){if(null==t)return"null";if(1!==t.nodeType)return"node";try{var e=(t.nodeName||"unknown").toLowerCase();null!=t.id&&(e+="#"+t.id);t.classList&&t.classList.length>0&&(e+="."+Array.from(t.classList).join("."));return e}catch(t){return"err"}}(e)+"]";if(n.indexOf(e)>=0)return"[Circular]";n.push(e);r=Array.isArray(e)?[]:{};i=function(t){for(var e=[],n=u(t);n;){e.push(n);n=u(n)}return e}(e).filter(function(t){return t!==Object.prototype});return function t(e){if(null==e)return e;var n=Object.keys(e);if(1!==n.length||"message"!==n[0])return e;var r=e.message;Array.isArray(r)&&1===r.length&&(r=r[0]);return t(r)}([e].concat(i).map(function(t){return Object.getOwnPropertyNames(t)}).reduce(function(r,i){i.forEach(function(i){try{e instanceof Error&&"stack"===i||(r[i]=t(e[i],n))}catch(t){r[i]="[Error: "+(t.message||t)+"]"}});return r},r));case"function":if(n.length>0)return;return"[Function "+(e.name||"anonymous")+"]";default:return e}}),ho=function(t){try{var e=fo(t,[])||t;switch(typeof e){case"string":return e;case"number":return""+e;default:return lo(e)}}catch(t){return"[Error]"}},po=Ti(),vo=function(){return Ti()-po},mo=Symbol("runtime"),go=Symbol("init"),yo=Symbol("setGuest"),bo=Symbol("ensureContainer"),_o=Symbol("slot"),wo=Symbol("videoSlot"),Ao=Symbol("phaser"),So=Symbol("pubSub"),Eo=Symbol("clickThroughUrl"),ko=Symbol("adCompanions"),Po=Symbol("options"),Oo=Symbol("internal"),Io=Symbol("config"),Co=Symbol("logger"),To=go,jo=mo,Do=function(){function t(){this[Io]=null;this[jo]=null;this.dispose=Ci(this.dispose)}e(t,null,[{key:"id",get:function(){throw new Error("Method is abstract")}},{key:"defaultConfig",get:function(){return null}}]);var n=t.prototype;n.init=function(){};n.dispose=function(){};n.publish=function(t,e){void 0===e&&(e=[]);return this[jo].publish(t,e,"plugin-"+this.constructor.id)};n.track=function(){var t;(t=this[jo]).track.apply(t,arguments)};n.trackPixel=function(t,e){this[jo].trackPixel(t,e)};n.trackError=function(){var t;(t=this[jo]).trackError.apply(t,arguments)};n.setConfig=function(t){this[Io]=Object.assign({},this.constructor.defaultConfig,this[Io],t)};n[To]=function(t,e){if(null!=this[Io])throw new Error("Already configured");this[jo]=t;this.setConfig(e);this.init()};e(t,[{key:"runtime",get:function(){return this[jo]}},{key:"config",get:function(){return this[Io]}},{key:"host",get:function(){return this[jo].host}},{key:"guest",get:function(){return this[jo].guest}},{key:"logger",get:function(){return this[Co]}}]);return t}(),Mo=go,xo=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);return e}(Do),No=Object.create(null),Ro=new(function(){function t(){this._contents=Object.create(null)}var r=t.prototype;r.register=function(t){var e=t.id;if(null!=this._contents[e]&&this._contents[e]!==t)throw new Error('Plugin "'+e+'" already registered');this._provisionParent(e);this._contents[e]=t};r.create=function(t,e,n){if(null==this._contents[t])throw new Error('Plugin "'+t+'" not registered');var r=new(0,this._contents[t]);r[Mo](n,e);return r};r._provisionParent=function(t){var r=t.indexOf(".");if(!(r<0)){var i=t.substr(0,r);null==this._contents[i]&&(this._contents[i]=function(t){null==No[t]&&(No[t]=function(r){function i(){return r.apply(this,arguments)||this}n(i,r);e(i,null,[{key:"id",get:function(){return t}}]);return i}(xo));return No[t]}(i))}};return t}()),Lo=Symbol("subscribers"),Vo=Symbol("published"),Fo=Symbol("options"),Uo=function(){function t(t){void 0===t&&(t={});this[Lo]={};this[Vo]=[];this[Fo]=t}var n=t.prototype;n.subscribe=function(t,e,n){void 0===n&&(n=null);null==this[Lo][e]&&(this[Lo][e]=[]);this[Lo][e].push({fn:t,ctx:n})};n.unsubscribe=function(t,e){var n=this[Lo][e];if(null!=n)for(var r=n.length-1;r>=0;--r)n[r].fn===t&&n.splice(r,1)};n.publish=function(t,e){void 0===e&&(e=[]);if(!(We.indexOf(t)>=0&&this.didPublish(t))){var n=this._normalizeEventArgs(t,e);this[Vo].push({name:t,args:e});if(null!=this[Lo][t])for(var r=this[Lo][t].slice(),i=0;i<r.length;++i){var o=r[i],s=o.fn,u=o.ctx,a=null!=u&&!0===u[Oo];s.apply(u,a?e:n)}}};n.didPublish=function(t){return this[Vo].some(function(e){var n=e.name;return t===n})};n._normalizeEventArgs=function(t,e){if(t===Ge.AdClickThru){var n=e[0],r=e[1],i=e[2];return["string"==typeof n?n:void 0,null!=r?r:"",null==i||!!i]}if(t===Ge.AdError){var o=e[0],s=e[1];return!0===this[Fo].sendErrorInfo?[o,Gi(s)]:[o]}return e};e(t,[{key:"published",get:function(){return this[Vo]}},{key:"options",get:function(){return this[Fo]}}]);return t}(),Go=100,Wo=101,zo=103,Bo=105,Ho=107,qo=171,Qo=100,Ko=101,Jo=104,Xo=105,Yo=106,Zo=107,$o=108,ts=109,es=110,ns=111,rs=112,is=113,os=167,ss="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAAAXNCSVQI5gpbmQAAAApJREFUCB1jYAAAAAIAAc/INeUAAAAASUVORK5CYII=",us="cdn.doubleverify.com",as="rtb0.doubleverify.com",cs="tps.doubleverify.com",ls="https://"+us+"/dvtp_src.js",fs="https://"+us+"/dvbs_src.js",hs=[{id:"boot",pattern:fs+"?"},{id:"src",pattern:"//"+us+"/dvbs_src_internal"},{id:"verify",pattern:"//"+as+"/verify.js?"}],ds={tagtype:"video",dvtagver:"6.1.src",tagformat:"2",msrapi:"jsVpaid",dvp_zjsver:"0.20.34"},ps=["ctx","cmp","sid","plc","advid","crt","dup","adsrv","tagtype"],vs=Symbol("name"),ms=Symbol("states"),gs=Symbol("infos"),ys=Symbol("state"),bs=Symbol("initialState"),_s=Symbol("timings"),ws=0,As=function(){function t(t,e,n){void 0===e&&(e=ws);void 0===n&&(n=void 0);this[vs]=t;this[ms]=[];this[gs]=[];this[_s]=[];this[bs]=e;this.set(e,n)}var n=t.prototype;n.getInfo=function(t){if(t<=this.state)return this[gs][t]};n.set=function(t,e){void 0===e&&(e=void 0);var n=this[ys];if(t<n)throw new Error("Invalid "+this[vs]+" state change: "+n+" â "+t);if(t!==n){this._ensureStates(t);for(var r=n+1;r<t;++r)this[ms][r].resolve();this[ms][t].resolve(e);this[gs][t]=e;this[_s][t]=Ti();this[ys]=t;this[bs]}};n.maybeSet=function(t,e){void 0===e&&(e=void 0);if(this.reached(t))return!1;this.set(t,e);return!0};n.reach=function(t){return new Promise(function(e,n){this._ensureStates(t);return e(this[ms][t].promise)}.bind(this))};n.reached=function(t){return t<=this.state};n.time=function(t){return this[_s][t]};n.timeBetween=function(t,e){if(t>e)throw new Error("toState ("+e+") must be greater than or equal to fromState ("+t+")");return this.time(e)-this.time(t)};n._ensureStates=function(t){for(var e=this[ms].length;e<=t;++e){this[ms].push(Vr());this[gs].push(void 0);this[_s].push(void 0)}};e(t,[{key:"name",get:function(){return this[vs]}},{key:"state",get:function(){return this[ys]}}]);return t}(),Ss=1,Es=2,ks=2,Ps=K(!0);N(N.P,"Array",{includes:function(t){return Ps(this,t,arguments.length>1?arguments[1]:void 0)}});le("includes");N(N.P+N.F*bi("includes"),"String",{includes:function(t){return!!~gi(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});var Os=function(t,e,n,r){e=e||"&";n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,h,d,p=t[c].replace(o,"%20"),v=p.indexOf(n);if(v>=0){l=p.substr(0,v);f=p.substr(v+1)}else{l=p;f=""}h=decodeURIComponent(l);d=decodeURIComponent(f);a(i,h)?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i},Is=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Cs=function(t,e,n,r){e=e||"&";n=n||"=";null===t&&(t=void 0);return"object"==typeof t?Object.keys(t).map(function(r){var i=encodeURIComponent(Is(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return i+encodeURIComponent(Is(t))}).join(e):i+encodeURIComponent(Is(t[r]))}).join(e):r?encodeURIComponent(Is(r))+n+encodeURIComponent(Is(t)):""},Ts=i(function(t,e){e.decode=e.parse=Os;e.encode=e.stringify=Cs}),js=(Ts.decode,Ts.parse,Ts.encode,Ts.stringify),Ds=Symbol("facade"),Ms=Symbol("proxyCb"),xs=function(){function t(t){this[Ds]=t;fn({href:"//"+us,rel:"preconnect",pr:"1.0"})}var n=t.prototype;n.start=function(){return new Promise(function(t,e){var n=this;this[Ms]=new Sn(function(){return n.facade.proxy});this.facade.config.adid=this[Ms].name;return t()}.bind(this))};n.decide=function(){return new Promise(function(t,e){return t(3)})};n.enableDecisionTimeout=function(){return new Promise(function(t,e){return t()})};n.onStartCreativeLoad=function(){};n.dispose=function(){return new Promise(function(t,e){if(null!=this[Ms]){this[Ms].remove();this[Ms]=null}return t()}.bind(this))};n._insertScript=function(t,e,n){return new Promise(function(r,i){var o,s,u;o=this;void 0===n&&(n="?");if(null!=e){s={};e.forEach(function(t){null!=o.facade.config[t]&&(s[t]=o.facade.config[t])});for(var a in this.facade.config)Object.prototype.hasOwnProperty.call(this.facade.config,a)&&!e.includes(a)&&(s[a]=this.facade.config[a])}else s=this.facade.config;u=""+t+n+js(s);return Promise.resolve(mi(u)).then(function(t){try{return r()}catch(t){return i(t)}},i)}.bind(this))};e(t,[{key:"facade",get:function(){return this[Ds]}},{key:"logger",get:function(){return this.facade.logger}}]);return t}(),Ns=Symbol("state"),Rs=Symbol("recommendationFromDvCb"),Ls=Symbol("ackConfirmationFromDvCb"),Vs=Symbol("timedOut"),Fs=Symbol("shouldAcknowledge"),Us=Symbol("timingMonitorInterval"),Gs=Symbol("timingMonitorSeen"),Ws=function(t,e){return t.startsWith("//")?e.startsWith("https:"+t)||e.startsWith("http:"+t):e.startsWith(t)},zs=function(t){function e(e){var n;(n=t.call(this,e)||this)[Ns]=new As("blocking-state");n[Rs]=null;n[Ls]=null;n[Vs]=!1;n[Fs]=!1;n._scheduleAndProcessRecommendationTimeout=Ci(n._scheduleAndProcessRecommendationTimeout);fn({href:"//"+as,rel:"preconnect",pr:"1.0"});fn({href:"//"+cs,rel:"preconnect",pr:"1.0"});return n}n(e,t);var r=e.prototype;r.start=function(){return new Promise(function(e,n){return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{this[Rs]=new Sn(this._processRecommendationFromDv.bind(this));this.facade.config.DVP_DCB=this[Rs].name;this[Ns].set(1);this._startTimingMonitor();return Promise.resolve(this._insertScript(fs,ps)).then(function(t){try{this._processTimings();return e()}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))};r.onStartCreativeLoad=function(t){null==t||null!=t.poster&&""!==t.poster||(t.poster=ss)};r.decide=function(){return new Promise(function(t,e){return t(this[Ns].reach(ks))}.bind(this))};r.enableDecisionTimeout=function(){return new Promise(function(t,e){this._scheduleAndProcessRecommendationTimeout();return t()}.bind(this))};r.dispose=function(){return new Promise(function(e,n){function r(){if(null!=this[Rs]){this[Rs].remove();this[Rs]=null}if(null!=this[Ls]){this[Ls].remove();this[Ls]=null}this._processTimings();this._disposeTimingMonitor();return Promise.resolve(t.prototype.dispose.call(this)).then(function(t){try{return e()}catch(t){return n(t)}},n)}return this[Ns].reached(1)?Promise.resolve(this.enableDecisionTimeout()).then(function(t){try{if(this[Fs]&&!this[Ns].reached(3))return Promise.resolve(this[Ns].reach(3)).then(function(t){try{return e.call(this)}catch(t){return n(t)}}.bind(this),n);function e(){return r.call(this)}return e.call(this)}catch(t){return n(t)}}.bind(this),n):r.call(this)}.bind(this))};r._getBlockingTimeout=function(){var t=this.facade.config.blkto,e=null!=t?parseInt(t,10):900;return isNaN(e)?900:Math.min(Math.max(e,100),900)};r._scheduleAndProcessRecommendationTimeout=function(){return new Promise(function(t,e){var n,r,i;return Promise.resolve(this[Ns].reach(1)).then(function(o){try{n=this[Ns].time(1);r=this._getBlockingTimeout();if((i=n+r-Ti())>0)return Promise.resolve(xr(i)).then(function(t){try{return s.call(this)}catch(t){return e(t)}}.bind(this),e);function s(){this[Vs]=this[Ns].maybeSet(ks,"block"===this.facade.config.blktoa?Ss:Es);this[Vs]&&(this.facade.timedOut=this[Vs]);return t()}return s.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};r._processRecommendationFromDv=function(t,e){this[Fs]=!0;this[Ns].maybeSet(ks,t);this._sendRecommendationAckToDv(e,Ti())};r._sendRecommendationAckToDv=function(t,e){return new Promise(function(n,r){var i,o,s,u,a,c,l,f,h;i=this;return Promise.resolve(new Promise(function(t,e){return this.facade.creative.reached(3)?t([!1,!1]):Promise.resolve(Promise.race([this.facade.decide().then(function(t){return!!t&&i.facade.creative.reach(1).then(function(){return!0})}),this.facade.creative.reach(3).then(function(){return!1})])).then(function(n){try{return t([n,!this[Vs]])}catch(t){return e(t)}}.bind(this),e)}.bind(this))).then(function(i){try{s=(o=i)[0],u=o[1];a=this.facade.creative.time(1)||-1;c=this.facade.creative.time(2)||-1;l=Vr();this[Ls]=new Sn(function(){l.resolve()});f=[s,u,a,c,e,this[Ls].name];var d=function(){try{this[Ns].set(3);return n()}catch(t){return r(t)}}.bind(this),p=function(t){try{return d()}catch(t){return r(t)}};try{(h=new Sn(t)).invoke.apply(h,f);return Promise.resolve(Promise.race([l.promise,xr(500)])).then(function(t){try{return d()}catch(t){return p()}},p)}catch(t){p()}}catch(t){return r(t)}}.bind(this),r)}.bind(this))};r._startTimingMonitor=function(){this[Gs]=hs.map(function(){return!1});this[Us]=setInterval(this._processTimings.bind(this),250)};r._disposeTimingMonitor=function(){if(null!=this[Us]){clearInterval(this[Us]);this[Us]=null;this[Gs]=null}};r._processTimings=function(){var t;try{t=performance.getEntriesByType("resource")}catch(t){this._disposeTimingMonitor();return}for(var e=0;e<t.length;++e)for(var n=t[e],r=0;r<hs.length;++r){var i=hs[r],o=i.id,s=i.pattern;if(null!=this[Gs]&&!this[Gs][r]&&Ws(s,n.name)){this[Gs][r]=!0;this.facade.onScriptResourceTiming("dvbs-"+o,n)}}null!=this[Gs]&&this[Gs].every(Boolean)&&this._disposeTimingMonitor()};return e}(xs),Bs=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);e.prototype.start=function(){return new Promise(function(e,n){var r,i;return Promise.resolve(t.prototype.start.call(this)).then(function(t){try{r=null!=this.facade.config.proxy?this.facade.config.static+"/advm.js":ls;return Promise.resolve(this.facade.creative.reach(1)).then(function(t){try{i="1"===this.facade.config.scripthash?"#":"?";return Promise.resolve(this._insertScript(r,ps,i)).then(function(t){try{return e()}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),n)}catch(t){return n(t)}}.bind(this),n)}.bind(this))};return e}(xs),Hs=function(t){return new(t.blockingEnabled?zs:Bs)(t)},qs=Symbol("logger"),Qs=Symbol("config"),Ks=Symbol("proxy"),Js=Symbol("mode"),Xs=Symbol("decision"),Ys=Symbol("createMode"),Zs=Symbol("timedOut"),$s=Symbol("creativeState"),tu=function(){function t(t){void 0===t&&(t=Hs);this[$s]=new As("dvf-creative");this[Xs]=Vr();this[Ys]=t;this[Js]=null;this[Zs]=!1;this.start=Ci(this.start);this._determineDecision=Ci(this._determineDecision);this.dispose=Ci(this.dispose)}var n=t.prototype;n.start=function(t,e){return new Promise(function(n,r){this[Ks]=e;this[Qs]=Object.assign({},t,ds);null!=t.dvtagver&&(this[Qs].dvtagver=t.dvtagver);var i=function(){try{return n()}catch(t){return r(t)}},o=function(t){try{this[Xs].reject(t);return i()}catch(t){return r(t)}}.bind(this);try{this[Js]=new this[Ys](this);return Promise.resolve(this[Js].start()).then(function(t){try{return i()}catch(t){return o(t)}},o)}catch(t){o(t)}}.bind(this))};n.decide=function(){return new Promise(function(t,e){if(null==this[Js])return e(new Error("Not started yet"));this._awaitAndResolveDecision();return t(this[Xs].promise)}.bind(this))};n.decideWithTimeout=function(){return new Promise(function(t,e){if(null==this[Js])return e(new Error("Not started yet"));this[Js].enableDecisionTimeout();return t(this.decide())}.bind(this))};n.onStartCreativeLoad=function(t){null!=this[Js]&&this[Js].onStartCreativeLoad(t);this.creative.maybeSet(1)};n.onEndCreativeLoad=function(){this.creative.maybeSet(2)};n.onScriptResourceTiming=function(t,e){var n={91:t},r=pi(e),i=Bi(r);this.track("timing",n,i,!0)};n.dispose=function(){return new Promise(function(t,e){function n(){return t()}this.creative.maybeSet(3);return null!=this[Js]?Promise.resolve(this[Js].dispose()).then(function(t){try{this[Js]=null;return n.call(this)}catch(t){return e(t)}}.bind(this),e):n.call(this)}.bind(this))};n._awaitAndResolveDecision=function(){return new Promise(function(t,e){var n;return Promise.resolve(this[Js].decide()).then(function(r){try{n=r!==Ss||this.dryRun;this[Xs].resolve(n);return t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))};n.track=function(){};e(t,[{key:"logger",get:function(){return this[qs]}},{key:"blockingEnabled",get:function(){return"1"===this[Qs].blk&&null==this[Qs].proxy}},{key:"dryRun",get:function(){return"1"===this[Qs].dry}},{key:"timedOut",get:function(){return this[Zs]},set:function(t){this[Zs]=t}},{key:"creative",get:function(){return this[$s]}},{key:"config",get:function(){return this[Qs]}},{key:"proxy",get:function(){return this[Ks]}}]);return t}(),eu=Symbol("plugin"),nu=Symbol("disposed"),ru=_o,iu=wo,ou=function(){function t(t){if(null==t)throw new Error("Must specify the plugin");this[eu]=t;this[nu]=!1}var e=t.prototype;e.dispose=function(){this[nu]=!0};e.getAdVolume=function(){var t=this;return this._genericCall("getAdVolume",function(){return t[eu].host.getAdVolume()},-1)};e.getAdDuration=function(){var t=this;return this._genericCall("getAdDuration",function(){return t[eu].host.getAdDuration()},-1)};e.subscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("subscribe",function(){var e;return(e=t[eu].host).subscribe.apply(e,n)})};e.unsubscribe=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._genericCall("unsubscribe",function(){var e;return(e=t[eu].host).unsubscribe.apply(e,n)})};e.getPlayer=function(){var t=this;return this._genericCall("getPlayer",function(){return t[eu][iu]})};e.getSlot=function(){var t=this;return this._genericCall("getSlot",function(){return t[eu][ru]})};e.getPreviousEvents=function(){var t=this;return this._genericCall("getPreviousEvents",function(){return t[eu].runtime.hostInfo.publishedEvents.map(function(t){return t.name})},[])};e._genericCall=function(t,e,n){void 0===n&&(n=void 0);if(this[nu]);else try{return e()}catch(t){}return n};return t}(),su=Symbol("dvFacade"),uu=Symbol("videoSlotOriginalPoster"),au=_o,cu=wo,lu=function(t){function i(){var e;(e=t.call(this)||this)[su]=new tu;e[su].track=e.track.bind(r(e));return e}n(i,t);e(i,null,[{key:"id",get:function(){return"dv"}}]);var o=i.prototype;o.init=function(){this[su].start(this.config,new ou(this))};o.dispose=function(){return this[su].dispose()};o.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=o.slot,r=o.videoSlot;this[au]=n;this[cu]=r;this[uu]=null!=r?r.poster:null;this[su].onStartCreativeLoad(this[cu]);this._awaitAndHandleBlockDecision();return t()}.bind(this))};o.beforeAdLoaded=function(){return new Promise(function(t,e){this[su].onEndCreativeLoad();return Promise.resolve(this[su].decideWithTimeout()).then(function(n){try{return n?t():e(new Error("Ad blocked"))}catch(t){return e(t)}},e)}.bind(this))};o._awaitAndHandleBlockDecision=function(){return new Promise(function(t,e){var n,r,i,o,s,u;n=this;this.runtime.tracking.addMetric(118,function(){return n[su].config.blkto});r=vo();this.runtime.tracking.addMetric(119,function(){return r});return Promise.resolve(this[su].decide()).then(function(n){try{i=n;o=vo();this.runtime.tracking.addMetric(120,function(){return o});s=this[su].timedOut?"timeout":"decision";this.track(i?"dv-res-allow":"dv-res-block",{197:s},null,!0);if(i)null!=this[cu]&&this[cu].poster===ss&&(this[cu].poster=this[uu]);else{u={message:"Ad blocked"};this.publish(Ge.AdError,["Ad blocked",u])}return t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))};return i}(Do),fu=Symbol("domEventTracker"),hu=Symbol("initialVideoSource"),du=function(t){return"currentSrc"in t?t.currentSrc:t.src},pu=function(t){function r(){var e;(e=t.call(this)||this)[fu]=new qr;e[hu]=null;return e}n(r,t);var i=r.prototype;i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){if(null==o)return t();var n=o.videoSlot;if(null==n)return t();this[hu]=du(n);var r=this._preventEarlyPlayback.bind(this);this[fu].addMany(n,{loadedmetadata:r,loadeddata:r,canplay:r,canplaythrough:r,playing:r});return t()}.bind(this))};i.beforeStartAd=function(){this[fu].removeAll()};i.dispose=function(){t.prototype.dispose.call(this);this[fu].removeAll()};i._preventEarlyPlayback=function(){var t=this.runtime.hostInfo.videoSlot;!t.paused&&this._hasVideoSourceChanged()&&t.pause()};i._hasVideoSourceChanged=function(){var t=this.runtime.hostInfo.videoSlot;return du(t)!==this[hu]};e(r,null,[{key:"id",get:function(){return"quirk.early-start"}}]);return r}(Do),vu=["dns","tcpHandshake","secureConnection","response","requestStartUntilResponseEnd"],mu=function(t){return null!=t?vu.map(function(e){return"number"==typeof(n=t[e])?n:"";var n}).join(":"):""},gu=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.onload=function(){if(r.status<200||r.status>=300)n(new Error("HTTP "+r.status));else{var t=r.status,i=function(t){var e={},n=null;try{n=t.getResponseHeader("content-type")}catch(t){}null!=n&&(e["content-type"]=n);return e}(r),o=function(t){return{text:t.responseText,xml:t.responseXML}}(r);e({statusCode:t,headers:i,body:o})}};r.onerror=function(){n(new Error("Unknown error"))};r.open("GET",t);r.send()})},yu=function(t,e){return Array.prototype.find.call(t.childNodes,function(t){return t.localName===e})},bu=function(t){return new Promise(function(e,n){var r,i,o,s;return Promise.resolve(gu(t)).then(function(t){try{i=(r=t).headers;if(null==(o=r.body.xml)||null==o.documentElement||"VAST"!==o.documentElement.localName){s=i["content-type"]||"unknown";return n(new Error("Invalid response: "+s))}return e(o)}catch(t){return n(t)}},n)})},_u=function(t){var e=yu(t.documentElement,"Ad");if(null==e)throw new Error("No ads");if(null!=yu(e,"InLine"))return null;var n=yu(e,"Wrapper");if(null==n)throw new Error("No InLine or Wrapper");var r=yu(n,"VASTAdTagURI");if(null==r)throw new Error("No VASTAdTagURI");return r.textContent.trim()},wu=function(t,e,n){var r=new Error(t);r.vastUrl=e;r.wrapperCount=n;return r},Au=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var i=r.prototype;i.init=function(){return new Promise(function(t,e){var n,r;this._vastUrl=this.config.vastUrl;this._strategies=this.config.strategies;this._dimensions=((n={})[9]="warmup",n[102]=this._vastUrl,n);this._metrics=((r={})[9]=this.config.originChainLength,r);this._runStrategies();return t()}.bind(this))};i._runStrategies=function(){return new Promise(function(t,e){var n;!function(t){for(var e=t.length-1;e>0;--e){var n=Math.floor(Math.random()*e),r=t[e];t[e]=t[n];t[n]=r}}(n=this._strategies.slice());var r=function(){try{this._trackBenchmarkSuccess();return t()}catch(t){return e(t)}}.bind(this),i=function(n){try{return t()}catch(t){return e(t)}};try{return Promise.resolve(Promise.all(n.map(this._runStrategy.bind(this)))).then(function(t){try{return r()}catch(t){return i()}},i)}catch(t){i()}}.bind(this))};i._runStrategy=function(t){return new Promise(function(e,n){var r,i;r=this._buildVastUrl(t);t.chain=[];var o=function(){try{var o=function(e){try{this._trackBenchmarkError(t.name,e);throw e}catch(t){return n(t)}}.bind(this);try{i=Ti();return Promise.resolve((s=r,u=t.chain,new Promise(function(t,e){function n(){if(!(null!=s&&i++<5))return[1];o={url:s};u.push(o);o.startTime=Ti();a=void 0;var t=function(t){try{throw wu(t.message,s,i)}catch(t){return e(t)}};try{return Promise.resolve(bu(s)).then(function(r){try{a=r;return function(){try{o.endTime=Ti();o.timings=vi(s);try{s=_u(a,s)}catch(t){throw wu(t.message,s,i)}return n}catch(t){return e(t)}}()}catch(e){return t(e)}},t)}catch(e){t(e)}}function r(){return null!=s?e(wu("Wrapper limit exceeded",s,i)):t()}var i,o,a,c;i=0;return(c=function(t){for(;t;){if(t.then)return void t.then(c,e);try{if(t.pop){if(t.length)return t.pop()?r.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(n)}))).then(function(r){try{t.totalTime=Ti()-i;return function(){try{return e()}catch(t){return n(t)}}()}catch(t){return o(t)}},o)}catch(t){o(t)}}catch(t){return n(t)}var s,u}.bind(this),s=function(t){try{return o()}catch(t){return n(t)}};try{return Promise.resolve(this._warmUp(r)).then(function(t){try{return o()}catch(t){return s()}},s)}catch(t){s()}}.bind(this))};i._buildVastUrl=function(t){if(null==t.endpoint)return this._vastUrl;var e=encodeURIComponent(this._vastUrl);return"https://"+t.endpoint+"/1?t=vast&src="+e};i._warmUp=function(t){return new Promise(function(e,n){var r;r=function(t){var e=t.indexOf("//");if(e<0)return null;var n=t.indexOf("/",e+2);return n<0?t:t.substr(0,n)}(t);return Promise.resolve(gu(r)).then(function(t){try{return e()}catch(t){return n(t)}},n)})};i._trackBenchmarkSuccess=function(){for(var t=0;t<this._strategies.length;++t){var e=10*(t+1),n=this._strategies[t];this._addSuccessDimensions(e,n);this._addSuccessMetrics(e,n)}this.track("benchmark-end",this._dimensions,this._metrics,!0)};i._trackBenchmarkError=function(t,e){this._dimensions[10]=t;this._dimensions[110]=ho(e);if(null!=e.vastUrl){this._dimensions[102]=li(e.vastUrl);this._metrics[8]=e.wrapperCount}this.track("benchmark-error",this._dimensions,this._metrics,!0)};i._addSuccessDimensions=function(t,e){var n,r=e.name,i=e.chain;Object.assign(this._dimensions,((n={})[t]=r,n[t+1]=i.map(function(t){return t.endTime-t.startTime}).join(","),n[t+2]=i.map(function(t){return li(t.url)}).join(","),n[t+3]=function(t){return t.map(function(t){return t.timings}).map(mu).join(",")}(i),n))};i._addSuccessMetrics=function(t,e){var n,r=e.chain,i=e.totalTime;Object.assign(this._metrics,((n={})[t]=i,n[t+1]=r.length,n));var o=r[0].timings;if(null!=o)for(var s=0;s<vu.length;++s){var u=o[vu[s]];"number"==typeof u&&(this._metrics[t+2+s]=u)}};e(r,null,[{key:"id",get:function(){return"unwrapper-benchmark"}}]);return r}(Do);Ro.register(lu);Ro.register(pu);Ro.register(Au);var Su=function(){return"__forensiqcb__"+bn()},Eu=Symbol("cbName"),ku=function(t){function r(){var e;(e=t.call(this)||this)[Eu]=Su();return e}n(r,t);var i=r.prototype;i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n,r,i,o,s,u=function(){try{this._trackResult(n,i,r);this._handleResult(n,r);return t()}catch(t){return e(t)}}.bind(this),a=function(t){try{s=t&&"Timed out"===t.message?[204,null]:[0,t];n=s[0];r=s[1];return u()}catch(t){return e(t)}};try{o=this._getForensiqStatus();return Promise.resolve(o).then(function(t){try{n=t;i=o.time;return u()}catch(t){return a(t)}},a)}catch(t){a(t)}}.bind(this))};i.dispose=function(){delete window[this[Eu]]};i._getForensiqStatus=function(){var t,e,n=this,r=(t=this[Eu],e=function(e,n){return{callback:t,org:n.org,sk:n.sk,s:n.s,p:n.p,a:n.a,cmp:n.cmp,url:window.location.href,ua:navigator.userAgent}}(0,this.config),"https://s.fqtag.com/a/?"+js(e)),i=new Promise(function(t){window[n[Eu]]=function(e){t(e);delete window[n[Eu]]}});return Fi(function(){return new Promise(function(t,e){return Promise.resolve(mi(r)).then(function(n){try{return t(Ui(i,1500,"Timed out"))}catch(t){return e(t)}},e)})})()};i._handleResult=function(t,e){if(200===t);else if(500===t)throw new Error("Ad blocked")};i._trackResult=function(t,e,n){var r={190:e};null!=n?this.trackError("fq-res-"+t,n,null,r,!0):this.track("fq-res-"+t,null,r,!0)};e(r,null,[{key:"id",get:function(){return"fq"}}]);return r}(Do);Ro.register(ku);var Pu=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);r.prototype.afterAdClickThru=function(){return new Promise(function(t,e){this.host.resumeAd();return t()}.bind(this))};e(r,null,[{key:"id",get:function(){return"force.click.continue"}}]);return r}(Do),Ou=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);r.prototype.afterAdLoaded=function(){return new Promise(function(t,e){this.host.startAd();return t()}.bind(this))};e(r,null,[{key:"id",get:function(){return"force.start"}}]);return r}(Do),Iu=Kr.set,Cu=function(t,e,n){var r,i=e.constructor;i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&d(r)&&Iu&&Iu(t,r);return t},Tu="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",ju="["+Tu+"]",Du=RegExp("^"+ju+ju+"*"),Mu=RegExp(ju+ju+"*$"),xu=function(t,e,n){var r={},i=v(function(){return!!Tu[t]()||"âÂ"!="âÂ"[t]()}),o=r[t]=i?e(Nu):Tu[t];n&&(r[n]=o);N(N.P+N.F*i,"String",r)},Nu=xu.trim=function(t,e){t=String(F(t));1&e&&(t=t.replace(Du,""));2&e&&(t=t.replace(Mu,""));return t},Ru=xu,Lu=kt.f,Vu=jt.f,Fu=S.f,Uu=Ru.trim,Gu=f.Number,Wu=Gu,zu=Gu.prototype,Bu="Number"==L(St(zu)),Hu="trim"in String.prototype,qu=function(t){var e=w(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=Hu?e.trim():Uu(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2;i=49;break;case 79:case 111:r=8;i=55;break;default:return+e}for(var s,u=e.slice(2),a=0,c=u.length;a<c;a++)if((s=u.charCodeAt(a))<48||s>i)return NaN;return parseInt(u,r)}}return+e};if(!Gu(" 0o1")||!Gu("0b1")||Gu("+0x1")){Gu=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Gu&&(Bu?v(function(){zu.valueOf.call(n)}):"Number"!=L(n))?Cu(new Wu(qu(e)),n,Gu):qu(e)};for(var Qu,Ku=m?Lu(Wu):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Ju=0;Ku.length>Ju;Ju++)O(Wu,Qu=Ku[Ju])&&!O(Gu,Qu)&&Fu(Gu,Qu,Vu(Wu,Qu));Gu.prototype=zu;zu.constructor=Gu;j(f,"Number",Gu)}for(var Xu=function(t){var e,n,r,i,o=(n=function(){var t=function(t){return void 0!==t},e=function(){var e="u";try{t(window.opera)&&t(window.opera.buildNumber)?e="o":t(window.mozInnerScreenY)?e="g":t(window.chrome)&&t(window.chrome.csi)?e="c":t(window.msWriteProfilerMark)&&t(window.crypto)?e="e":t(window.attachEvent)||t(window.msCrypto)?e="i":t(window.WebKitPoint)&&(e="w")}catch(t){}return e}(),n=function(){var e,n=function(){var e={g:"",q:""};try{e.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(o){var n,r=(r=o.message).substring(r.lastIndexOf("<")+1,r.lastIndexOf(">"));if((n=t(r))&&(n=!1,t(window.navigator)&&t(window.navigator.userAgent))){var i=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==i&&2==i.length&&(i=i[1].split("."),3==parseInt(i[0],10)&&6>=parseInt(i[1],10)&&(3==i.length?13>=parseInt(i[2],10)&&(n=!0):n=!0))}n&&(e.g=r)}return e},r={};try{r.a=encodeURIComponent(top.location.href)}catch(t){}try{r.b=encodeURIComponent(parent.location.href)}catch(t){}if(window!=top){try{r.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{r.e=encodeURIComponent(window.document.referrer)}catch(t){}}try{r.d=encodeURIComponent(window.location.href)}catch(t){}try{var i=n();r.g=encodeURIComponent(i.g);r.q=encodeURIComponent(i.q)}catch(t){}r=function(e){var n,r,i={};for(r in e)e.hasOwnProperty(r)&&(n=e[r],t(i[n])?i[n]+=r:i[n]=r);e={};for(r in i)i.hasOwnProperty(r)&&(e[n=i[r]]=r);return e}(r=function(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];""!==r&&"null"!==r&&"undefined"!==r&&null!==r&&t(r)||delete e[n]}return e}(r)),n=[];for(e in r)r.hasOwnProperty(e)&&n.push({key:e,val:r[e]});n.sort(function(t,e){return t.val.length>e.val.length?1:t.val.length<e.val.length?-1:0});return n}();return{br:e,urls:n}},r=function(t,e,n){var r=["//"+y.getFwServerDomain(),"/db2/video/",e+"/",n+"/","skeleton.js?videoId=",l.getVideoId()].join("");e=function(t){r=[r,"&adsafe_url=",t.val,"&adsafe_type=",t.key].join("")};try{t.urls.forEach(e),r=[r,"&adsafe_jsinfo=br:",t.br].join("")}catch(t){a.report(p.DIAGNOSTIC.BUILD_VIDEOAPI_URL,t)}return r},i=function(){if(this.readyState==p.XHR.READY_STATE.DONE)if(this.status==p.HTTP.STATUS_CODE.OK)try{e("failed"===JSON.parse(this.responseText).action?p.BLOCKING_RESPONSE.BLOCK:p.BLOCKING_RESPONSE.SAFE)}catch(t){a.report(p.DIAGNOSTIC.BLOCK_AD,t)}else a.report(p.DIAGNOSTIC.BLOCKING_URL_REQUEST_ERR,{message:this.status})},{init:function(t,o,s){var u=n();t=r(u,t,o);e=s;y.sendUrlRequest(t,i)}}),s=function(){var t=window;return{getWin:function(){return t},setWin:function(e){(e=e&&e.ownerDocument)&&e.defaultView?t=e.defaultView:e&&e.parentWindow?t=e.parentWindow:a.report(p.DIAGNOSTIC.SET_CONTEXT,{message:""})},getDoc:function(){return t.document}}}(),u=function(){var t,e=[],n=!1,r=function(t){var e="";Object.keys(t).forEach(function(n){-1===["advEntityId","pubEntityId","partner","debug"].indexOf(n)&&(e+="&"+n+"="+t[n])});return e},i=function n(i){if(l.isEstablished()){var o;try{(o=y.stringify(i))&&("AdImpression"===i.messageType?y.getWindow()[t](o):y.getWindow().postMessage(o,"*"))}catch(t){a.report(p.DIAGNOSTIC.DISPATCH_MESSAGE,t)}}else if(l.canNeverBeEstablished()){o=y.getFwServerDomain();var s=u.config;try{"AdImpression"===i.messageType&&(u.isCmTag?y.sendUrlRequest(["//"+o,"/mon?",r(s)].join("")):u.isFwTag&&y.sendUrlRequest(["//"+o,"/rfw/st/",s.advEntityId+"/"+s.pubEntityId,"/skeleton.js"].join("")))}catch(n){a.report(p.DIAGNOSTIC.DISPATCH_MESSAGE,n)}}else try{e.push(i)}catch(t){a.report(p.DIAGNOSTIC.CACHE_MESSAGE,t)}},o=function(t,e){y.sendMonitoringDebugPixel(p.MONITORING.AD_STOPPED,u.monitoringQS());s(t,e)},s=function(t,e){try{i({messageType:t,id:l.getVideoId(),time:y.now(),partner:c.getPartnerCode(),eventData:e})}catch(t){a.report(p.DIAGNOSTIC.SEND_EVENT,t)}},f={AdImpression:function(t,e){var r=g.getInjector();n||(e&&(e.ext_passthrough=u.passThroughObj),n=!0,y.sendMonitoringDebugPixel(p.MONITORING.AD_IMPRESSION,u.monitoringQS()),r.onInjectionResolution(function(){s(t,e)}),r.resolveInjection())},AdStopped:o,AdVideoComplete:o,AdError:function(t,e){y.sendMonitoringDebugPixel(p.MONITORING.AD_ERROR,u.monitoringQS());s(t,e)}};return{sendEvent:function(t,e){var n=f[t]||s;g.vans.hasBegun()&&n(t,e)},setImpressionCallback:function(e){t=e},flushUnsentEvents:function(){try{e.forEach(i)}catch(t){a.report(p.DIAGNOSTIC.FLUSH_UNSENT_EVENTS,t)}},passThroughObj:{},monitoringQS:function(){},clearSessionState:function(){n=!1;e.length=0}}}(),a=function(){var t={};return{report:function(e,n,r){if(!t[e])try{t[e]=!0;var i="//"+y.getFwServerDomain()+"/jsdiagnostic?code:vans-js_"+encodeURIComponent(c.getPartnerCode())+"_"+e+"&err:"+encodeURIComponent(n.message);r&&(i+="&config:"+encodeURIComponent(JSON.stringify(r)));y.sendUrlRequest(i)}catch(t){}}}}(),c={initCM:function(t,e){v.initCM(t,e)},initFW:function(t,e,n){v.initFW(t,e,n)},getPartnerCode:function(){return g.get().partnerCode},getPassThroughObj:function(){return g.get().passThroughObj},getAltMonDomain:function(){return g.get().monDomain},hasDebugEnabled:function(){return g.get().debugEnabled}},l=function(){var t,e=!1,n=!1,r=function(t,n){t==i()&&(e=!0,u.setImpressionCallback(n),y.sendMonitoringDebugPixel(p.MONITORING.HANDSHAKE_SUCCESS,u.monitoringQS()),u.flushUnsentEvents());return e?p.VIDEO_CHANNEL:null},i=function(){t||(t=y.generateUID());return t};return{getVideoId:i,setNodeInterface:function(t){var e,n,o,s=i();try{e="IASid"+s,n="blockAd"+s,o="getIasVidBridgeVersion"+s,t.className+=" integral-vid-"+s,t[n]=y.noop,t[e]=r,t[o]=function(){return"2"},t.getVersion=function(){return p.INTERNAL_VERSION}}catch(t){a.report(p.DIAGNOSTIC.SET_NODE_INTERFACE,t)}},isEstablished:function(){return e},canNeverBeEstablished:function(){return n},giveUpOnHandshaking:function(){n=!0;u.flushUnsentEvents()},resetHandshake:function(){n=e=!1}}}(),f=function(){var t=function(){var t=[];return{addCallback:function(e,n){var r=0;n=n||Number.MAX_VALUE;t.push(function(){r<n&&(r++,e.apply({},arguments))})},executeCallbacks:function(){var e=arguments;t.forEach(function(t){t.apply({},e)})}}}();return{addCallback:function(e){t.addCallback(e,1)},executeCallbacks:t.executeCallbacks}},h=function(t){var e=!1,n=!1,r=new f,i=!1,o=function(o){var s,u=function(){!e&&t.parentNode?(t.parentNode.appendChild(o),clearInterval(s),n=e=!0,y.sendMonitoringDebugPixel(p.MONITORING.FWJS_INJECTED,m.buildMonitoringQS())):i&&(n=!0,clearInterval(s),l.giveUpOnHandshaking());n&&r.executeCallbacks()};u();e||(s=setInterval(u,200))},s=function(){var e=t&&t.ownerDocument,n=e&&e.parentWindow;return!!(e&&e.defaultView||n)};return{injectTagScript:function(t,e){var r,i=y.getDocument();if(s())try{(r=i.createElement("script")).src=function(t,e){var n,r=y.getFwServerDomain();try{n=["//",r,t,"?videoId=",l.getVideoId(),function(t){var e="";Object.keys(t).forEach(function(n){"advEntityId"!=n&&"pubEntityId"!=n&&"partner"!=n&&(e+="&"+n+"="+t[n])});return e}(e)].join("")}catch(t){a.report(p.DIAGNOSTIC.BUILD_SRC_URL,t)}return n}(t,e),r.addEventListener("load",function(t){y.sendMonitoringDebugPixel(p.MONITORING.FWJS_LOAD_SUCCESS,m.buildMonitoringQS())}),r.addEventListener("error",function(t){l.giveUpOnHandshaking();y.sendMonitoringDebugPixel(p.MONITORING.FWJS_LOAD_ERROR,m.buildMonitoringQS())}),o(r)}catch(t){l.giveUpOnHandshaking(),y.sendMonitoringPixel(p.MONITORING.INJECTION_ERR)}else n=!0,l.giveUpOnHandshaking()},sendInjectionDiagnostics:function(){var e=t&&t.ownerDocument,n=t&&t.parentNode,r=e&&(e.defaultView||e.parentWindow),i=p.MONITORING.AD_NODE_TYPE+"_"+(t?t.constructor.name||t.nodeName||typeof t:"null");t||y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NULL,m.buildMonitoringQS());t&&!n&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_DETACHED,m.buildMonitoringQS());t&&!e&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NO_DOC,m.buildMonitoringQS());e&&!r&&y.sendMonitoringDebugPixel(p.MONITORING.AD_NODE_NO_WINDOW,m.buildMonitoringQS());y.sendMonitoringDebugPixel(i,m.buildMonitoringQS())},onInjectionResolution:function(t){r.addCallback(t);n&&r.executeCallbacks()},resolveInjection:function(){i=!0}}},d=function(){var t,e=!1,n=function e(n){var r,i=!1;try{i="unloadComplete"===(r=JSON.parse(n.data)).msg&&r.id==l.getVideoId()}catch(t){}i&&(t(),y.getWindow().removeEventListener("message",e))};return{registerMeasurementCompleteHandler:function(r){t=r;e||(y.getWindow().addEventListener("message",n),e=!0)}}},p={INTERNAL_VERSION:"3.6.0",VIDEO_CHANNEL:"jv3",PROD_DOMAIN:"pixel.adsafeprotected.com",DIAGNOSTIC_MONITORING_DOMAIN:"spixel.adsafeprotected.com",S4_ITERATIONS:8,EVENTS:{AD_IMPRESSION:"AdImpression"},PSUEDO_IMPRESSION_ID_PREFIX:"vidId_",DIAGNOSTIC:{INIT_FW:"ifw",INIT_CM:"icm",FLUSH_UNSENT_EVENTS:"fue",CACHE_MESSAGE:"cm",SEND_EVENT:"se",BLOCK_AD:"ba",SEND_MONITORING_PIXEL:"smp",SET_NODE_INTERFACE:"sni",BUILD_SRC_URL:"bsurl",BUILD_VIDEOAPI_URL:"bvu",BLOCKING_URL_REQUEST_ERR:"blk_url_req_err",DISPATCH_MESSAGE:"dm",SET_CONTEXT:"sc",STRINGIFY_EVENT_ERROR:"ser"},MONITORING:{INJECTION_ERR:"inj_err",VANS_INITIALIZED:"init",HANDSHAKE_SUCCESS:"hs",AD_IMPRESSION:"ai",DEFERRED_INTERFACE:"vans_defer",AD_STOPPED:"adstop",AD_ERROR:"aderr",AD_NODE_NULL:"adnode_null",AD_NODE_DETACHED:"adnode_detached",AD_NODE_NO_DOC:"adnode_nodoc",AD_NODE_NO_WINDOW:"adnode_nowin",AD_NODE_TYPE:"adnode_type",FWJS_INJECTED:"fwjsinj",FWJS_LOAD_SUCCESS:"fwjsload",FWJS_LOAD_ERROR:"fwjsload_err",IMPRESSION_DOMAIN_BLOCKING:"impblock"},HTTP:{VERBS:{GET:"GET"},STATUS_CODE:{OK:200}},BLOCKING_RESPONSE:{BLOCK:"block",SAFE:"safe"},XHR:{READY_STATE:{DONE:4}}},v=function(){var t=function(t,e,n,r){l.setNodeInterface(n);"function"==typeof e.onMeasurementComplete&&(new d).registerMeasurementCompleteHandler(e.onMeasurementComplete);var i={};Object.getOwnPropertyNames(e).forEach(function(t){"debug"!==t&&"onMeasurementComplete"!==t&&(i[t]=e[t])});r.injectTagScript(t,i)};return{initCM:function(e,n){var r;if(!g.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");s.setWin(n);g.setPreErrorConfig(e,"cm");try{if(!e.anId)throw Error("Missing anId");g.vans.begin();r=new h(n);g.setInjector(r);g.setConfig(e);y.sendMonitoringDebugPixel(p.MONITORING.VANS_INITIALIZED,m.buildMonitoringQS());y.sendMonitoringDebugPixel(p.MONITORING.IMPRESSION_DOMAIN_BLOCKING,m.buildMonitoringQS(),y.getFwServerDomain());r.sendInjectionDiagnostics();t("/jsvid",e,n,r)}catch(t){a.report(p.DIAGNOSTIC.INIT_CM,t)}}},initFW:function(e,n,r){var i,u;if(!g.vans.hasBegun()){if(!e||!e.partner)throw Error("Missing partner code");s.setWin(n);g.setPreErrorConfig(e,"fw");try{if(!e.advEntityId||!e.pubEntityId)throw Error("Missing client id: advEntityId: "+e.advEntityId+" ,pubEntityId: "+e.pubEntityId);g.vans.begin();u=new h(n);g.setInjector(u);g.setConfig(e);y.sendMonitoringDebugPixel(p.MONITORING.VANS_INITIALIZED,m.buildMonitoringQS());y.sendMonitoringDebugPixel(p.MONITORING.IMPRESSION_DOMAIN_BLOCKING,m.buildMonitoringQS(),y.getFwServerDomain());u.sendInjectionDiagnostics();r&&o.init(e.advEntityId,e.pubEntityId,r);i="/fwjsvid/st/"+e.advEntityId+"/"+e.pubEntityId+"/skeleton.js";t(i,e,n,u)}catch(t){a.report(p.DIAGNOSTIC.INIT_FW,t)}}}}}(),m={buildMonitoringQS:function(){var t=p.PSUEDO_IMPRESSION_ID_PREFIX+l.getVideoId(),e=g.getInfoParams();return["&chanId="+e.anId,"planId="+e.advEntityId,"placementId="+e.pubEntityId,"advId="+e.campId,"pubOrder="+e.placementId,"pubCreative="+e.creativeId,"impId="+(e.impId||t),"ts="+Date.now(),"custom="+p.INTERNAL_VERSION,"custom2=jv3&custom3="+g.get().tagType,"adsafe_par"].join("&")}},g=function(){var t,e={},n=!1,r={};return{vans:{hasBegun:function(){return n},begin:function(){n=!0}},setInjector:function(e){t=e},getInjector:function(){return t},setPreErrorConfig:function(t,n){e.tagType=n;var r;r="string"==typeof(r=t.partner)?r.replace(/[^\w-.]/g,""):r;e.partnerCode=r;e.debugEnabled=t.debug&&t.debug.enabled;e.debugEnabled&&(e.monDomain=t.debug.monDomain)},setConfig:function(t){!function(t){"impId creativeId campId placementId advEntityId pubEntityId anId".split(" ").forEach(function(e){r[e]=t[e]});r.monDomain=e.monDomain}(t);e.passThroughObj={vv:p.INTERNAL_VERSION,vanstag:e.tagType,xcamp:r.campId,xplac:r.placementId,xcreat:r.creativeId,ximp:r.impId,xpc:e.partnerCode};e.config=t;!function(t){u.monitoringQS=m.buildMonitoringQS;u.passThroughObj=e.passThroughObj;Object.keys(t).forEach(function(e){u[e]=t[e]})}({isFwTag:"fw"===e.tagType,isCmTag:"cm"===e.tagType,config:t})},getInfoParams:function(){return r},get:function(){return e}}}(),y={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(t){try{this.sendUrlRequest(["//"+y.getFwServerDomain(),"/mon?anId=10173&campId=",encodeURIComponent(c.getPartnerCode()),"&pubId=",encodeURIComponent("vans-js_"+t)].join(""))}catch(t){a.report(p.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}},sendMonitoringDebugPixel:function(){var t=[p.MONITORING.AD_STOPPED],e={};return function(n,r,i){var o=c.hasDebugEnabled(),s=-1<t.indexOf(n)&&e[n];if(o&&!s)try{var u,l=p.DIAGNOSTIC_MONITORING_DOMAIN,f=c.getAltMonDomain(),h=(f=(i=i||f||l)===f?"925116":"10173",y.addProtocolToDomain(i)),d=encodeURIComponent(n),v=encodeURIComponent(c.getPartnerCode());u=r.replace(/=undefined&/g,"=&");y.sendUrlRequest(h+"/mon?anId="+f+"&campId="+v+"&pubId="+d+u);e[n]=!0}catch(t){a.report(p.DIAGNOSTIC.SEND_MONITORING_PIXEL,t)}}}(),sendUrlRequest:function(t,e){var n,r;if(t){n=this.getWindow();try{r=new n.XMLHttpRequest,e&&(r.onreadystatechange=e),r.open(p.HTTP.VERBS.GET,t),r.send()}catch(t){}}},stringify:function(t){if("AdImpression"!==t.messageType)return JSON.stringify(t);var e={};e.passthroughObj=c.getPassThroughObj();var n="";try{n=JSON.stringify(t)}catch(t){a.report(p.DIAGNOSTIC.STRINGIFY_EVENT_ERROR,t,e);return}return n},addProtocolToDomain:function(t){return t.match(/^[a-zA-Z]+:\/\//)?t:"https://"+t},getWindow:function(){return s.getWin()},getDocument:function(){return s.getDoc()},generateUID:function(){var t,e="";try{for(t=0;t<p.S4_ITERATIONS;t++)e=[e,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(t){}return e},getFwServerDomain:function(){return t||p.PROD_DOMAIN},noop:function(){}};return{initFW:c.initFW,initCM:c.initCM,sendEvent:u.sendEvent}},Yu={ad_duration:"getAdDuration",width:"getAdWidth",height:"getAdHeight",volume:"getAdVolume"},Zu=[Ge.AdLoaded,Ge.AdImpression,"resizeAd"],$u=["planId","uId","impId","bidPr","bidurl"],ta=Symbol("integral"),ea=Symbol("viewMode"),na=Symbol("adNode"),ra=Symbol("measurementCompleted"),ia=Ci(function(){fn({href:"//pixel.adsafeprotected.com",rel:"preconnect",pr:"1.0"});fn({href:"//dt.adsafeprotected.com",rel:"preconnect",pr:"1.0"});fn({href:"//sc.iasds01.com",rel:"preconnect",pr:"1.0"})}),oa=function(t){function r(){var e;(e=t.call(this)||this)[ra]=Vr();ia();return e}n(r,t);var i=r.prototype;i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){this[ta]=new Xu(this.config.fwServerDomain);this[ea]=n;this[na]=o?o.slot:null;return t()}.bind(this))};i.beforeResizeAd=function(t,e,n){return new Promise(function(t,e){this[ea]=n;return t()}.bind(this))};i.beforeAdSkipped=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};i.beforeAdStopped=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};i.beforeAdError=function(){return new Promise(function(t,e){return Promise.resolve(this._completeMeasurement()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};i._completeMeasurement=function(){return new Promise(function(t,e){return Promise.resolve(Promise.race([this[ra].promise,xr(250)])).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};i._sendEvent=function(t,e){if(null!=this[ta]){"AdSizeChange"===t&&(t="resizeAd");var n=this._buildEventContext(t,e);this[ta].sendEvent(t,n)}};i._buildEventContext=function(t,e){for(var n=this.host,r={},i=Object.keys(Yu),o=0;o<i.length;++o){var s=i[o],u=Yu[s],a=void 0;try{a=n[u]()}catch(t){}"number"!=typeof a&&(a=Ue);r[s]=a}Zu.indexOf(t)>=0&&(r.viewMode=this[ea]);return r};e(r,[{key:"normalizedConfig",get:function(){var t=this,e=this.config,n=Object.assign({},e);delete n.debug;delete n.monDomain;delete n.fwServerDomain;delete n.monitoring;if(!0===e.debug){n.debug=n.debug||{};n.debug.enabled=!0}if(null!=e.monDomain){n.debug=n.debug||{};n.debug.monDomain=e.monDomain}$u.some(function(t){return!Ai(n[t])})&&(n.adsafe_par="");null==n.partner&&(n.partner="iasz");n.onMeasurementComplete=function(){t[ra].resolve()};return n}},{key:"_integral",get:function(){return this[ta]}},{key:"_adNode",get:function(){return this[na]}}]);return r}(Do),sa=oa.prototype,ua=Object.keys(Ge).map(function(t){return Ge[t]}),aa=function(t){var e=ua[t],n="before"+e,r=sa[n];sa[n]=function(){var t=arguments;return new Promise(function(n,i){function o(){return n()}var s,u,a;for(s=t.length,u=new Array(s),a=0;a<s;a++)u[a]=t[a];this._sendEvent(e,u);return null!=r?Promise.resolve(r.apply(this,u)).then(function(t){try{return o.call(this)}catch(t){return i(t)}}.bind(this),i):o.call(this)}.bind(this))}},ca=0;ca<ua.length;++ca)aa(ca);var la=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);r.prototype.beforeInitAd=function(e,n,r,i,o,s){return new Promise(function(u,a){return Promise.resolve(t.prototype.beforeInitAd.call(this,e,n,r,i,o,s)).then(function(t){try{this._integral.initCM(this.normalizedConfig,this._adNode);return u()}catch(t){return a(t)}}.bind(this),a)}.bind(this))};e(r,null,[{key:"id",get:function(){return"ias.cm"}}]);return r}(oa),fa="Advertisement. Your video will begin in [T] seconds.",ha=Symbol("message"),da=Symbol("positionX"),pa=Symbol("positionX"),va=Symbol("counter"),ma=Symbol("interval"),ga=function(t){function r(){var e;(e=t.call(this)||this)[ha]=fa;e[da]="center";e[pa]="bottom";e[va]=null;e[ma]=null;return e}n(r,t);var i=r.prototype;i._loadConfig=function(){var t,e=this,n=this.config.flags;if(null!=n){var r=function(t,n){return function(){e[da]=n;e[pa]=t}},i=((t={frtimer:function(){e[ha]="PublicitÃ©: Votre vidÃ©o commence dans [T] secondes."},gertimer:function(){e[ha]="Nur ein Werbespot. Das Video beginnt in [T] Sekunden."}}).topleftcount=r("top","left"),t.topmiddlecount=r("top","center"),t.toprightcount=r("top","right"),t.bottomleftcount=r("bottom","left"),t.bottomrightcount=r("bottom","right"),t);n.split("|").map(function(t){return i[t]}).forEach(function(t){return t&&t()})}};i._createCountdown=function(t){var e,n=(t.ownerDocument||document).createElement("div");Cr(n,((e={"background-color":"rgba(0, 0, 0, 0.7)"})[this[pa]]="bottom"===this[pa]?"10px":"0px",e.right="0px",e.width="100%",e.position="absolute",e.color="white",e["font-size"]="12px",e["font-weight"]="200",e["font-family"]="Arial, Helvetica, sans-serif",e["text-align"]=this[da],e["z-index"]="10000001",e),!0);this[va]=n;this._updateCountdown();t.appendChild(n)};i._updateCountdown=function(){var t=Math.round(this.host.getAdRemainingTime());t<0&&(t=Math.max(this.host.getAdDuration(),0));var e=this[ha].replace("[T]",t);this[va].innerHTML!==e&&(this[va].innerHTML=e)};i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){this._loadConfig();this._createCountdown(o.slot);return t()}.bind(this))};i.afterAdStarted=function(){return new Promise(function(t,e){var n=this;if(null!==this[va]){this._updateCountdown();this[ma]=setInterval(function(){return n._updateCountdown()},250)}return t()}.bind(this))};i.beforeAdStopped=function(){return new Promise(function(t,e){if(null!==this[ma]){clearInterval(this[ma]);this[ma]=null}return t()}.bind(this))};e(r,null,[{key:"id",get:function(){return"ias.countdown"}}]);return r}(Do),ya=Symbol("deciding"),ba=Symbol("didBlock"),_a=["safe","block","monitor"],wa=Fi(function(){return Ui(function(t,e,n,r){return new Promise(function(i,o){try{if(!0===r){t.initFW(e,n);i("monitor")}else t.initFW(e,n,i)}catch(t){o(t)}})}.apply(void 0,arguments),1500,"Timed out")}),Aa=Ci(function(){fn({href:"//static.adsafeprotected.com",rel:"preconnect",pr:"1.0"})}),Sa=function(t){function r(){var e;e=t.call(this)||this;Aa();return e}n(r,t);var i=r.prototype;i.beforeInitAd=function(e,n,r,i,o,s){return new Promise(function(u,a){return Promise.resolve(t.prototype.beforeInitAd.call(this,e,n,r,i,o,s)).then(function(t){try{this[ba]=!1;this[ya]=wa(this._integral,this.normalizedConfig,this._adNode,this.config.monitoring);return u()}catch(t){return a(t)}}.bind(this),a)}.bind(this))};i.beforeAdLoaded=function(){return new Promise(function(e,n){var r,i,o=function(){try{this._trackFwResult(r,this[ya].time,i);if("block"===r){console.warn("IAS FW: Ad blocked");this[ba]=!0;this._sendEvent(Ge.AdImpression);return n(new Error("Ad blocked"))}return Promise.resolve(t.prototype.beforeAdLoaded.call(this)).then(function(t){try{return e()}catch(t){return n(t)}},n)}catch(t){return n(t)}}.bind(this),s=function(t){try{if("Timed out"===(t&&t.message)){console.warn("IAS FW: Timed out");r="timeout"}else{console.warn("IAS FW: Error: "+i.message);r="error";i=t}return o()}catch(t){return n(t)}};try{return Promise.resolve(this[ya]).then(function(t){try{if(!function(t){return _a.indexOf(t)>=0}(r=t)){console.warn('IAS FW: Invalid decision "'+r+'"');r="invalid"}return o()}catch(t){return s(t)}},s)}catch(t){s(t)}}.bind(this))};i._buildEventContext=function(e,n){var r=t.prototype._buildEventContext.call(this,e,n);if(e===Ge.AdImpression){var i=null!=this[ya]?this[ya].time:0;Object.assign(r,{integral_didBlock:this[ba],integral_timeToDecision:i})}return r};i._trackFwResult=function(t,e,n){var r={190:e};null!=n?this.trackError("ias-fw-res-"+t,n,null,r,!0):this.track("ias-fw-res-"+t,null,r,!0)};e(r,null,[{key:"id",get:function(){return"ias.fw"}}]);return r}(oa);Ro.register(la);Ro.register(Sa);Ro.register(ga);Ro.register(Ou);Ro.register(Pu);var Ea=function(t){function r(){var e;(e=t.call(this)||this)._shouldHaveDuration=Vr();e._shouldHaveDuration.fulfilled=!1;return e}n(r,t);e(r,null,[{key:"id",get:function(){return"moat"}}]);var i=r.prototype;i.afterAdDurationChange=function(){this._checkIfAdDurationIsPresent()};i.afterAdRemainingTimeChange=function(){this._checkIfAdDurationIsPresent()};i.afterAdStarted=function(){this._checkIfAdDurationIsPresent()};i.afterAdVideoStart=function(){this._checkIfAdDurationIsPresent()};i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){function n(){this._moatApi=function(t,e,n,r){var i=document.createElement("script"),o={events:[],addEvent:function(t){u.sendEvent?(o.events&&(u.sendEvent(o.events),o.events=!1),u.sendEvent(t)):o.events.push(t)}},s=function(e){return function(){var n,r=-1;t&&t.getAdVolume&&(n=t.getAdVolume());"number"==typeof n&&!isNaN(n)&&0<=n&&(r=n);o.addEvent({type:e,adVolume:r});if(-1!==h.indexOf(e)&&t&&t.unsubscribe&&!f){f=!0;for(var i in l)if(l.hasOwnProperty&&l.hasOwnProperty(i))try{t.unsubscribe(l[i],i)}catch(t){}}}},u={adData:{ids:n,vpaid:t,duration:t.getAdDuration(),build:"cc07a80-clean"},dispatchEvent:o.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());var a,c,l={AdStarted:s("AdStarted"),AdStopped:s("AdStopped"),AdSkipped:s("AdSkipped"),AdLoaded:s("AdLoaded"),AdLinearChange:s("AdLinearChange"),AdSizeChange:s("AdSizeChange"),AdExpandedChange:s("AdExpandedChange"),AdSkippableStateChange:s("AdSkippableStateChange"),AdDurationChange:s("AdDurationChange"),AdRemainingTimeChange:s("AdRemainingTimeChange"),AdVolumeChange:s("AdVolumeChange"),AdImpression:s("AdImpression"),AdClickThru:s("AdClickThru"),AdInteraction:s("AdInteraction"),AdVideoStart:s("AdVideoStart"),AdVideoFirstQuartile:s("AdVideoFirstQuartile"),AdVideoMidpoint:s("AdVideoMidpoint"),AdVideoThirdQuartile:s("AdVideoThirdQuartile"),AdVideoComplete:s("AdVideoComplete"),AdUserAcceptInvitation:s("AdUserAcceptInvitation"),AdUserMinimize:s("AdUserMinimize"),AdUserClose:s("AdUserClose"),AdPaused:s("AdPaused"),AdPlaying:s("AdPlaying"),AdError:s("AdError")},f=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(t&&t.subscribe)for(var e in l)l.hasOwnProperty&&l.hasOwnProperty(e)&&t.subscribe(l[e],e)}();try{c=(a=e.ownerDocument).defaultView||a.parentWindow}catch(t){a=document,c=window}c[n]=u;i.type="text/javascript";e&&e.insertBefore(i,e.childNodes[0]||null);i.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n;return u}(this.guest,r,this.config,this.config.pcode);this._dispatchPreviousEvents();this._forwardVPAIDDurationToMoat();return t()}var r;if(null!=o&&null!=o.slot){r=o.slot;return n.call(this)}return Promise.resolve(Gr(document)).then(function(t){try{r=document.createElement("div");document.body.appendChild(r);return n.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};i._dispatchPreviousEvents=function(){var t=this,e=this.host.getAdVolume();this.runtime.hostInfo.publishedEvents.forEach(function(n){var r=n.name;t._moatApi.dispatchEvent({type:r,adVolume:e})})};i._forwardVPAIDDurationToMoat=function(){return new Promise(function(t,e){var n;return Promise.resolve(this._shouldHaveDuration.promise).then(function(r){try{n=this.host.getAdDuration();this._moatApi.adData.duration=n;this._moatApi.dispatchEvent({type:"AdDurationChange",adVolume:this.host.getAdVolume(),duration:n});return t()}catch(t){return e(t)}}.bind(this),e)}.bind(this))};i._checkIfAdDurationIsPresent=function(){if(!this._shouldHaveDuration.fulfilled&&this.host.getAdDuration()>0){this._shouldHaveDuration.resolve();this._shouldHaveDuration.fulfilled=!0}};return r}(Do);Ro.register(Ea);for(var ka=function(t){function r(){var e;(e=t.call(this)||this)._installVpaidHistory();return e}n(r,t);var i=r.prototype;i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n,r,i;r=(n=o||{}).slot,i=n.videoSlot;this._ownerDocument=i&&i.ownerDocument||r&&r.ownerDocument||document;return Promise.resolve(this._installWhiteOpsScript()).then(function(n){try{return t()}catch(t){return e(t)}},e)}.bind(this))};i._installWhiteOpsScript=function(){return new Promise(function(t,e){var n,r=function(){try{return t()}catch(t){return e(t)}},i=function(t){try{return r()}catch(t){return e(t)}};try{n=this._getWhiteOpsScriptUri();return Promise.resolve(mi(n)).then(function(t){try{this._maybeTriggerHistoryUpdate();return r()}catch(t){return i()}}.bind(this),i)}catch(t){i()}}.bind(this))};i._getWhiteOpsParams=function(){var t=Object.assign({},this.config,{oz_vp:2,oz_vid:this._adVideoSlot&&this._adVideoSlot.id,oz_flash_id:this._bridgeId});delete t.ci;delete t.script;return t};i._getWhiteOpsScriptUri=function(){return t=this.config.ci,e=this._getWhiteOpsParams(),"https://s.tpcserve.com/2/"+t+"/pagespeed.js?"+js(e);var t,e};i._installVpaidHistory=function(){if(null==this._bridgeId){this._bridgeId="bridge"+Ti();this._history=[];this._callback=null;this._historyDirty=!1;if(window){null==window.__ozoki_vpaid&&(window.__ozoki_vpaid=[]);this._history=window.__ozoki_vpaid}else this._history=[]}};i._pushHistory=function(t,e){void 0===e&&(e=null);var n=[this._bridgeId,Ti(),t,e];this._history.push(n);this._triggerHistoryUpdate()};i._triggerHistoryUpdate=function(){null==this._callback&&null!=window&&null!=window.__ozoki_call&&(this._callback=window.__ozoki_call);this._historyDirty=!0;if(null!=this._callback)try{this._callback.call(window);this._historyDirty=!1}catch(t){}};i._maybeTriggerHistoryUpdate=function(){this._historyDirty&&this._triggerHistoryUpdate()};i.beforeSubscribeSync=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._pushHistory("subscribe",e)};i.beforeUnsubscribeSync=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._pushHistory("unsubscribe",e)};e(r,null,[{key:"id",get:function(){return"wo"}}]);return r}(Do),Pa=function(t,e){var n=""+t+Mi(e),r=ka.prototype[n];ka.prototype[n]=function(){var t=arguments;return new Promise(function(n,i){function o(){return n()}var s,u,a;for(s=t.length,u=new Array(s),a=0;a<s;a++)u[a]=t[a];this._pushHistory(e,u);return null!=r?Promise.resolve(r.apply(this,u)).then(function(t){try{return o.call(this)}catch(t){return i(t)}}.bind(this),i):o.call(this)}.bind(this))}},Oa=function(t,e){var n=""+t+Mi(e),r=ka.prototype[n];ka.prototype[n]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._pushHistory(e,n);null!=r&&r.apply(this,n)}},Ia=Object.keys(Ge).map(function(t){return Ge[t]}),Ca=0;Ca<Ia.length;++Ca)Pa("before",Ia[Ca]);for(var Ta=Object.keys(ze).map(function(t){return ze[t]}),ja=0;ja<Ta.length;++ja)Pa("before",Ta[ja]);Pa("before","setAdVolume");Oa("after","handshakeVersion");for(var Da=Object.keys(qe),Ma=0;Ma<Da.length;++Ma)Oa("after","get"+Mi(Da[Ma]));Ro.register(ka);var xa=Object.keys(qe),Na=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);e(r,null,[{key:"id",get:function(){return"debug"}}]);return r}(Do),Ra=function(t){var e,n=Mi(t),r="before"+n,i="after"+n;Object.assign(Na.prototype,((e={})[r]=function(){var t=arguments;return new Promise(function(e,n){for(var i,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];(i=console).log.apply(i,["[debug] "+r].concat(s));return e()})},e[i]=function(){var t=arguments;return new Promise(function(e,n){for(var r,o=t.length,s=new Array(o),u=0;u<o;u++)s[u]=t[u];s.pop();(r=console).log.apply(r,["[debug] "+i].concat(s));return e()})},e))},La=function(t){for(var e=0;e<t.length;++e)Ra(t[e])};La(Object.keys(ze).map(function(t){return ze[t]}));La(Object.keys(Ge).map(function(t){return Ge[t]}));La(xa.map(function(t){return"set"+Mi(t)}));for(var Va=function(t){var e=xa[t],n="afterGet"+Mi(e),r=void 0;Na.prototype[n]=function(){var t,n=(t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t];if(r!==n){console.log("[debug] "+e+":",r,"â",n);r=n}}},Fa=0;Fa<xa.length;++Fa)Va(Fa);Ro.register(Na);var Ua=S.f,Ga=kt.f,Wa=f.RegExp,za=Wa,Ba=Wa.prototype,Ha=/a/g,qa=/a/g,Qa=new Wa(Ha)!==Ha;if(m&&(!Qa||v(function(){qa[ct("match")]=!1;return Wa(Ha)!=Ha||Wa(qa)==qa||"/a/i"!=Wa(Ha,"i")}))){Wa=function(t,e){var n=this instanceof Wa,r=Ze(t),i=void 0===e;return!n&&r&&t.constructor===Wa&&i?t:Cu(Qa?new za(r&&!i?t.source:t,e):za((r=t instanceof Wa)?t.source:t,r&&i?hn.call(t):e),n?this:Ba,Wa)};for(var Ka=function(t){t in Wa||Ua(Wa,t,{configurable:!0,get:function(){return za[t]},set:function(e){za[t]=e}})},Ja=Ga(za),Xa=0;Ja.length>Xa;)Ka(Ja[Xa++]);Ba.constructor=Wa;Wa.prototype=Ba;j(f,"RegExp",Wa)}Zn("RegExp");var Ya=Symbol("play"),Za=function(t){function r(){var e;(e=t.call(this)||this)[Ya]=null;return e}n(r,t);var i=r.prototype;i._createPlay=function(t){var e=this,n=t.ownerDocument||document,r=Tr(n,"svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},{display:"none",position:"absolute","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.3)",cursor:"pointer"},!0),i=Tr(n,"circle",{cx:"50%",cy:"50%",r:"25%",fill:"none",stroke:"white","stroke-width":"2px"},!0);r.appendChild(i);var o=Tr(n,"polygon",{points:"45,40,45,60,60,50",fill:"white"},!0);r.appendChild(o);this[Ya]=r;t.appendChild(r);r.addEventListener("click",function(){e.host.resumeAd()})};i._isEnabled=function(){var t=this.config.acceptMedia,e=this.runtime.guestInfo.mediaFile.type,n=!0;if("string"==typeof t&&"string"==typeof e)try{n=new RegExp(t).test(e)}catch(t){}return n};i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){this._isEnabled()&&this._createPlay(o.slot);return t()}.bind(this))};i.afterAdPaused=function(){return new Promise(function(t,e){null!==this[Ya]&&Cr(this[Ya],{display:"block"},!0);return t()}.bind(this))};i.beforeAdPlaying=function(){return new Promise(function(t,e){null!==this[Ya]&&Cr(this[Ya],{display:"none"},!0);return t()}.bind(this))};e(r,null,[{key:"id",get:function(){return"play"}}]);return r}(Do),$a=Symbol("skip"),tc=Symbol("interval"),ec={position:"absolute",bottom:"10%",right:"0px",padding:"12px","z-index":"10000001","background-color":"rgba(0, 0, 0, 0.7)",color:"white","font-size":"12px","font-weight":"200","font-family":"Arial, Helvetica, sans-serif","border-color":"rgba(255, 255, 255, 0.5)","border-width":"0px","border-style":"solid",cursor:"default","user-select":"none"},nc=Object.assign({},ec,{"font-size":"18px","border-width":"1px 0px 1px 1px",cursor:"pointer"}),rc=function(t){function r(){var e;(e=t.call(this)||this)[$a]=null;e[tc]=null;return e}n(r,t);var i=r.prototype;i._createSkip=function(t){var e=this,n=(t.ownerDocument||document).createElement("div");n.addEventListener("click",function(){return e._maybeSkip()});this[$a]=n;this._updateSkip();t.appendChild(n)};i._updateSkip=function(){var t=this._getSkipTimeRemaining(),e=!isNaN(t)||this.host.getAdSkippableState();Cr(this[$a],{display:e?"block":"none"},!0);var n=t>0,r="Skip ad";n&&(r="You can skip to video in [T]".replace("[T]",Math.round(t)));this[$a].innerHTML!==r&&(this[$a].innerHTML=r);Cr(this[$a],n?ec:nc,!0)};i._getSkipTimeRemaining=function(){var t=this.runtime.config.skipOffset;if("number"!=typeof t)return NaN;var e=this.host.getAdDuration(),n=this.host.getAdRemainingTime();return e<0||n<0?NaN:t-Math.max(e-n,0)};i._maybeSkip=function(){return new Promise(function(t,e){function n(){return t()}if(this._getSkipTimeRemaining()>0)return t();if(!0===this.guest.getAdSkippableState()){this.host.skipAd();return n.call(this)}return Promise.resolve(this.publish("AdSkipped")).then(function(t){try{this.host.stopAd();return n.call(this)}catch(t){return e(t)}}.bind(this),e)}.bind(this))};i._isEnabled=function(){var t=this.config.acceptMedia;return null==t||"string"==typeof t&&null!=this.runtime.guestInfo.mediaFile.type.match(new RegExp(t))};i.beforeInitAd=function(t,e,n,r,i,o){return new Promise(function(t,e){var n=this;if(this._isEnabled()){this._createSkip(o.slot);this[tc]=setInterval(function(){return n._updateSkip()},250)}return t()}.bind(this))};i.afterAdSkippableStateChange=function(){return new Promise(function(t,e){this._isEnabled()&&this._updateSkip();return t()}.bind(this))};i.beforeAdStopped=function(){return new Promise(function(t,e){if(null!==this[tc]){clearInterval(this[tc]);this[tc]=null}return t()}.bind(this))};e(r,null,[{key:"id",get:function(){return"skip"}}]);return r}(Do);Ro.register(Za);Ro.register(rc);var ic=i(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),oc=(ic.version,i(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),sc=i(function(t){var e=oc["__core-js_shared__"]||(oc["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:ic.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),uc=0,ac=Math.random(),cc=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++uc+ac).toString(36))},lc=i(function(t){var e=sc("wks"),n=oc.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:cc)("Symbol."+t))}).store=e}),fc=function(t){return"object"==typeof t?null!==t:"function"==typeof t},hc=function(t){if(!fc(t))throw TypeError(t+" is not an object!");return t},dc=function(t){try{return!!t()}catch(t){return!0}},pc=!dc(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),vc=oc.document,mc=fc(vc)&&fc(vc.createElement),gc=function(t){return mc?vc.createElement(t):{}},yc=!pc&&!dc(function(){return 7!=Object.defineProperty(gc("div"),"a",{get:function(){return 7}}).a}),bc=function(t,e){if(!fc(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!fc(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!fc(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!fc(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},_c=Object.defineProperty,wc={f:pc?Object.defineProperty:function(t,e,n){hc(t);e=bc(e,!0);hc(n);if(yc)try{return _c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");"value"in n&&(t[e]=n.value);return t}},Ac=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Sc=pc?function(t,e,n){return wc.f(t,e,Ac(1,n))}:function(t,e,n){t[e]=n;return t},Ec=lc("unscopables"),kc=Array.prototype;null==kc[Ec]&&Sc(kc,Ec,{});var Pc=function(t){kc[Ec][t]=!0},Oc=function(t,e){return{value:e,done:!!t}},Ic={},Cc={}.toString,Tc=function(t){return Cc.call(t).slice(8,-1)},jc=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Tc(t)?t.split(""):Object(t)},Dc=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Mc=function(t){return jc(Dc(t))},xc={}.hasOwnProperty,Nc=function(t,e){return xc.call(t,e)},Rc=sc("native-function-to-string",Function.toString),Lc=i(function(t){var e=cc("src"),n=(""+Rc).split("toString");ic.inspectSource=function(t){return Rc.call(t)};(t.exports=function(t,r,i,o){var s="function"==typeof i;s&&(Nc(i,"name")||Sc(i,"name",r));if(t[r]!==i){s&&(Nc(i,e)||Sc(i,e,t[r]?""+t[r]:n.join(String(r))));if(t===oc)t[r]=i;else if(o)t[r]?t[r]=i:Sc(t,r,i);else{delete t[r];Sc(t,r,i)}}})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||Rc.call(this)})}),Vc=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Fc=function(t,e,n){Vc(t);if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Uc=function(t,e,n){var r,i,o,s,u=t&Uc.F,a=t&Uc.G,c=t&Uc.S,l=t&Uc.P,f=t&Uc.B,h=a?oc:c?oc[e]||(oc[e]={}):(oc[e]||{}).prototype,d=a?ic:ic[e]||(ic[e]={}),p=d.prototype||(d.prototype={});a&&(n=e);for(r in n){o=((i=!u&&h&&void 0!==h[r])?h:n)[r];s=f&&i?Fc(o,oc):l&&"function"==typeof o?Fc(Function.call,o):o;h&&Lc(h,r,o,t&Uc.U);d[r]!=o&&Sc(d,r,s);l&&p[r]!=o&&(p[r]=o)}};oc.core=ic;Uc.F=1;Uc.G=2;Uc.S=4;Uc.P=8;Uc.B=16;Uc.W=32;Uc.U=64;Uc.R=128;var Gc=Uc,Wc=Math.ceil,zc=Math.floor,Bc=function(t){return isNaN(t=+t)?0:(t>0?zc:Wc)(t)},Hc=Math.min,qc=function(t){return t>0?Hc(Bc(t),9007199254740991):0},Qc=Math.max,Kc=Math.min,Jc=sc("keys"),Xc=function(t){return Jc[t]||(Jc[t]=cc(t))},Yc=function(t,e,n){for(var r=Mc(t),i=qc(r.length),o=function(t,e){return(t=Bc(t))<0?Qc(t+e,0):Kc(t,e)}(n,i);i>o;o++)if(o in r&&r[o]===e)return o||0;return-1},Zc=Xc("IE_PROTO"),$c=function(t,e){var n,r=Mc(t),i=0,o=[];for(n in r)n!=Zc&&Nc(r,n)&&o.push(n);for(;e.length>i;)Nc(r,n=e[i++])&&(~Yc(o,n)||o.push(n));return o},tl="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),el=Object.keys||function(t){return $c(t,tl)},nl=pc?Object.defineProperties:function(t,e){hc(t);for(var n,r=el(e),i=r.length,o=0;i>o;)wc.f(t,n=r[o++],e[n]);return t},rl=oc.document,il=rl&&rl.documentElement,ol=Xc("IE_PROTO"),sl=function(){},ul=function(){var t,e=gc("iframe"),n=tl.length;e.style.display="none";il.appendChild(e);e.src="javascript:";(t=e.contentWindow.document).open();t.write("<script>document.F=Object<\/script>");t.close();ul=t.F;for(;n--;)delete ul.prototype[tl[n]];return ul()},al=Object.create||function(t,e){var n;if(null!==t){sl.prototype=hc(t);n=new sl;sl.prototype=null;n[ol]=t}else n=ul();return void 0===e?n:nl(n,e)},cl=wc.f,ll=lc("toStringTag"),fl=function(t,e,n){t&&!Nc(t=n?t:t.prototype,ll)&&cl(t,ll,{configurable:!0,value:e})},hl={};Sc(hl,lc("iterator"),function(){return this});var dl=function(t){return Object(Dc(t))},pl=Xc("IE_PROTO"),vl=Object.prototype,ml=Object.getPrototypeOf||function(t){t=dl(t);return Nc(t,pl)?t[pl]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vl:null},gl=lc("iterator"),yl=!([].keys&&"next"in[].keys()),bl=function(){return this},_l=function(t,e,n,r,i,o,s){!function(t,e,n){t.prototype=al(hl,{next:Ac(1,n)});fl(t,e+" Iterator")}(n,e,r);var u,a,c,l=function(t){if(!yl&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h="values"==i,d=!1,p=t.prototype,v=p[gl]||p["@@iterator"]||i&&p[i],m=v||l(i),g=i?h?l("entries"):m:void 0,y="Array"==e&&p.entries||v;if(y&&(c=ml(y.call(new t)))!==Object.prototype&&c.next){fl(c,f,!0);"function"!=typeof c[gl]&&Sc(c,gl,bl)}if(h&&v&&"values"!==v.name){d=!0;m=function(){return v.call(this)}}(yl||d||!p[gl])&&Sc(p,gl,m);Ic[e]=m;Ic[f]=bl;if(i){u={values:h?m:l("values"),keys:o?m:l("keys"),entries:g};if(s)for(a in u)a in p||Lc(p,a,u[a]);else Gc(Gc.P+Gc.F*(yl||d),e,u)}return u},wl=_l(Array,"Array",function(t,e){this._t=Mc(t);this._i=0;this._k=e},function(){var t=this._t,e=this._k,n=this._i++;if(!t||n>=t.length){this._t=void 0;return Oc(1)}return Oc(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ic.Arguments=Ic.Array;Pc("keys");Pc("values");Pc("entries");for(var Al=lc("iterator"),Sl=lc("toStringTag"),El=Ic.Array,kl={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Pl=el(kl),Ol=0;Ol<Pl.length;Ol++){var Il,Cl=Pl[Ol],Tl=kl[Cl],jl=oc[Cl],Dl=jl&&jl.prototype;if(Dl){Dl[Al]||Sc(Dl,Al,El);Dl[Sl]||Sc(Dl,Sl,Cl);Ic[Cl]=El;if(Tl)for(Il in wl)Dl[Il]||Lc(Dl,Il,wl[Il],!0)}}_l(String,"String",function(t){this._t=String(t);this._i=0},function(){var t,e,n,r,i,o,s,u=this._t,a=this._i;if(a>=u.length)return{value:void 0,done:!0};t=(e=a,i=String(Dc(u)),o=Bc(e),s=i.length,o<0||o>=s?"":(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?i.charAt(o):i.slice(o,o+2));this._i+=t.length;return{value:t,done:!1}});var Ml,xl,Nl,Rl=lc("toStringTag"),Ll="Arguments"==Tc(function(){return arguments}()),Vl=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Rl))?n:Ll?Tc(e):"Object"==(r=Tc(e))&&"function"==typeof e.callee?"Arguments":r},Fl=function(t,e,n,r){try{return r?e(hc(n)[0],n[1]):e(n)}catch(e){var i=t.return;void 0!==i&&hc(i.call(t));throw e}},Ul=lc("iterator"),Gl=Array.prototype,Wl=lc("iterator"),zl=ic.getIteratorMethod=function(t){if(null!=t)return t[Wl]||t["@@iterator"]||Ic[Vl(t)]},Bl=i(function(t){var e={},n={},r=t.exports=function(t,r,i,o,s){var u,a,c,l,f,h=s?function(){return t}:zl(t),d=Fc(i,o,r?2:1),p=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(void 0===(f=h)||Ic.Array!==f&&Gl[Ul]!==f){for(c=h.call(t);!(a=c.next()).done;)if((l=Fl(c,d,a.value,r))===e||l===n)return l}else for(u=qc(t.length);u>p;p++)if((l=r?d(hc(a=t[p])[0],a[1]):d(t[p]))===e||l===n)return l};r.BREAK=e;r.RETURN=n}),Hl=lc("species"),ql=oc.process,Ql=oc.setImmediate,Kl=oc.clearImmediate,Jl=oc.MessageChannel,Xl=oc.Dispatch,Yl=0,Zl={},$l=function(){var t=+this;if(Zl.hasOwnProperty(t)){var e=Zl[t];delete Zl[t];e()}},tf=function(t){$l.call(t.data)};if(!Ql||!Kl){Ql=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);Zl[++Yl]=function(){!function(t,e,n){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3])}t.apply(void 0,e)}("function"==typeof t?t:Function(t),e)};Ml(Yl);return Yl};Kl=function(t){delete Zl[t]};if("process"==Tc(ql))Ml=function(t){ql.nextTick(Fc($l,t,1))};else if(Xl&&Xl.now)Ml=function(t){Xl.now(Fc($l,t,1))};else if(Jl){Nl=(xl=new Jl).port2;xl.port1.onmessage=tf;Ml=Fc(Nl.postMessage,Nl,1)}else if(oc.addEventListener&&"function"==typeof postMessage&&!oc.importScripts){Ml=function(t){oc.postMessage(t+"","*")};oc.addEventListener("message",tf,!1)}else Ml="onreadystatechange"in gc("script")?function(t){il.appendChild(gc("script")).onreadystatechange=function(){il.removeChild(this);$l.call(t)}}:function(t){setTimeout(Fc($l,t,1),0)}}var ef={set:Ql,clear:Kl},nf=ef.set,rf=oc.MutationObserver||oc.WebKitMutationObserver,of=oc.process,sf=oc.Promise,uf="process"==Tc(of),af={f:function(t){return new c(t)}},cf=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},lf=oc.navigator,ff=lf&&lf.userAgent||"",hf=lc("species"),df=lc("iterator"),pf=!1;try{[7][df]().return=function(){pf=!0}}catch(t){}var vf,mf,gf,yf,bf,_f=ef.set,wf=function(){var t,e,n,r=function(){var r,i;uf&&(r=of.domain)&&r.exit();for(;t;){i=t.fn;t=t.next;try{i()}catch(r){t?n():e=void 0;throw r}}e=void 0;r&&r.enter()};if(uf)n=function(){of.nextTick(r)};else if(!rf||oc.navigator&&oc.navigator.standalone)if(sf&&sf.resolve){var i=sf.resolve(void 0);n=function(){i.then(r)}}else n=function(){nf.call(oc,r)};else{var o=!0,s=document.createTextNode("");new rf(r).observe(s,{characterData:!0});n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i);if(!t){t=i;n()}e=i}}(),Af=oc.TypeError,Sf=oc.process,Ef=Sf&&Sf.versions,kf=Ef&&Ef.v8||"",Pf=oc.Promise,Of="process"==Vl(Sf),If=function(){},Cf=mf=af.f,Tf=!!function(){try{var t=Pf.resolve(1),e=(t.constructor={})[lc("species")]=function(t){t(If,If)};return(Of||"function"==typeof PromiseRejectionEvent)&&t.then(If)instanceof e&&0!==kf.indexOf("6.6")&&-1===ff.indexOf("Chrome/66")}catch(t){}}(),jf=function(t){var e;return!(!fc(t)||"function"!=typeof(e=t.then))&&e},Df=function(t,e){if(!t._n){t._n=!0;var n=t._c;wf(function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,u=i?e.ok:e.fail,a=e.resolve,c=e.reject,l=e.domain;try{if(u){if(!i){2==t._h&&Nf(t);t._h=1}if(!0===u)n=r;else{l&&l.enter();n=u(r);if(l){l.exit();s=!0}}n===e.promise?c(Af("Promise-chain cycle")):(o=jf(n))?o.call(n,a,c):a(n)}else c(r)}catch(t){l&&!s&&l.exit();c(t)}};n.length>o;)s(n[o++]);t._c=[];t._n=!1;e&&!t._h&&Mf(t)})}},Mf=function(t){_f.call(oc,function(){var e,n,r,i=t._v,o=xf(t);if(o){e=cf(function(){Of?Sf.emit("unhandledRejection",i,t):(n=oc.onunhandledrejection)?n({promise:t,reason:i}):(r=oc.console)&&r.error&&r.error("Unhandled promise rejection",i)});t._h=Of||xf(t)?2:1}t._a=void 0;if(o&&e.e)throw e.v})},xf=function(t){return 1!==t._h&&0===(t._a||t._c).length},Nf=function(t){_f.call(oc,function(){var e;Of?Sf.emit("rejectionHandled",t):(e=oc.onrejectionhandled)&&e({promise:t,reason:t._v})})},Rf=function(t){var e=this;if(!e._d){e._d=!0;(e=e._w||e)._v=t;e._s=2;e._a||(e._a=e._c.slice());Df(e,!0)}},Lf=function(t){var e,n=this;if(!n._d){n._d=!0;n=n._w||n;try{if(n===t)throw Af("Promise can't be resolved itself");if(e=jf(t))wf(function(){var r={_w:n,_d:!1};try{e.call(t,Fc(Lf,r,1),Fc(Rf,r,1))}catch(t){Rf.call(r,t)}});else{n._v=t;n._s=1;Df(n,!1)}}catch(t){Rf.call({_w:n,_d:!1},t)}}};if(!Tf){Pf=function(t){!function(t,e,n,r){if(!(t instanceof Pf)||"_h"in t)throw TypeError("Promise: incorrect invocation!")}(this);Vc(t);vf.call(this);try{t(Fc(Lf,this,1),Fc(Rf,this,1))}catch(t){Rf.call(this,t)}};(vf=function(t){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1}).prototype=function(t,e,n){for(var r in e)Lc(t,r,e[r],void 0);return t}(Pf.prototype,{then:function(t,e){var n,r,i,o=Cf((n=Pf,void 0===(i=hc(this).constructor)||null==(r=hc(i)[Hl])?n:Vc(r)));o.ok="function"!=typeof t||t;o.fail="function"==typeof e&&e;o.domain=Of?Sf.domain:void 0;this._c.push(o);this._a&&this._a.push(o);this._s&&Df(this,!1);return o.promise},catch:function(t){return this.then(void 0,t)}});gf=function(){var t=new vf;this.promise=t;this.resolve=Fc(Lf,t,1);this.reject=Fc(Rf,t,1)};af.f=Cf=function(t){return t===Pf||t===yf?new gf(t):mf(t)}}Gc(Gc.G+Gc.W+Gc.F*!Tf,{Promise:Pf});fl(Pf,"Promise");bf=oc.Promise,pc&&bf&&!bf[hf]&&wc.f(bf,hf,{configurable:!0,get:function(){return this}});yf=ic.Promise;Gc(Gc.S+Gc.F*!Tf,"Promise",{reject:function(t){var e=Cf(this);(0,e.reject)(t);return e.promise}});Gc(Gc.S+Gc.F*!Tf,"Promise",{resolve:function(t){return function(t,e){hc(t);if(fc(e)&&e.constructor===t)return e;var n=af.f(t);(0,n.resolve)(e);return n.promise}(this,t)}});Gc(Gc.S+Gc.F*!(Tf&&function(t,e){if(!pf)return!1;var n=!1;try{var r=[7],i=r[df]();i.next=function(){return{done:n=!0}};r[df]=function(){return i};!function(t){Pf.all(t).catch(If)}(r)}catch(t){}return n}()),"Promise",{all:function(t){var e=this,n=Cf(e),r=n.resolve,i=n.reject,o=cf(function(){var n=[],o=0,s=1;Bl(t,!1,function(t){var u=o++,a=!1;n.push(void 0);s++;e.resolve(t).then(function(t){if(!a){a=!0;n[u]=t;--s||r(n)}},i)});--s||r(n)});o.e&&i(o.v);return n.promise},race:function(t){var e=this,n=Cf(e),r=n.reject,i=cf(function(){Bl(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});i.e&&r(i.v);return n.promise}});var Vf={};Vf[lc("toStringTag")]="z";Vf+""!="[object z]"&&Lc(Object.prototype,"toString",function(){return"[object "+Vl(this)+"]"},!0);var Ff={f:Object.getOwnPropertySymbols},Uf={f:{}.propertyIsEnumerable},Gf=Object.assign,Wf=!Gf||dc(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";t[n]=7;r.split("").forEach(function(t){e[t]=t});return 7!=Gf({},t)[n]||Object.keys(Gf({},e)).join("")!=r})?function(t,e){for(var n=dl(t),r=arguments.length,i=1,o=Ff.f,s=Uf.f;r>i;)for(var u,a=jc(arguments[i++]),c=o?el(a).concat(o(a)):el(a),l=c.length,f=0;l>f;)s.call(a,u=c[f++])&&(n[u]=a[u]);return n}:Gf;Gc(Gc.S+Gc.F,"Object",{assign:Wf});var zf,Bf=/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/;(zf={}).b=function(t){return"true"===t||"1"===t},zf.i=function(t){return parseInt(t,10)},zf.f=parseFloat,zf.t=function(t){if("string"!=typeof t)return null;var e=Bf.exec(t);return null==e?null:60*(60*parseInt(e[1],10)+parseInt(e[2],10))+parseFloat(e[3])};var Hf=i(function(t){var e=cc("meta"),n=wc.f,r=0,i=Object.isExtensible||function(){return!0},o=!dc(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!fc(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Nc(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!Nc(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){o&&u.NEED&&i(t)&&!Nc(t,e)&&s(t);return t}}}),qf=(Hf.KEY,Hf.NEED,Hf.fastKey,Hf.getWeak,Hf.onFreeze,{f:lc}),Qf=wc.f,Kf=function(t){var e=ic.Symbol||(ic.Symbol=oc.Symbol||{});"_"==t.charAt(0)||t in e||Qf(e,t,{value:qf.f(t)})},Jf=Array.isArray||function(t){return"Array"==Tc(t)},Xf=tl.concat("length","prototype"),Yf={f:Object.getOwnPropertyNames||function(t){return $c(t,Xf)}},Zf=Yf.f,$f={}.toString,th="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],eh={f:function(t){return th&&"[object Window]"==$f.call(t)?function(t){try{return Zf(t)}catch(t){return th.slice()}}(t):Zf(Mc(t))}},nh=Object.getOwnPropertyDescriptor,rh={f:pc?nh:function(t,e){t=Mc(t);e=bc(e,!0);if(yc)try{return nh(t,e)}catch(t){}if(Nc(t,e))return Ac(!Uf.f.call(t,e),t[e])}},ih=Hf.KEY,oh=rh.f,sh=wc.f,uh=eh.f,ah=oc.Symbol,ch=oc.JSON,lh=ch&&ch.stringify,fh=lc("_hidden"),hh=lc("toPrimitive"),dh={}.propertyIsEnumerable,ph=sc("symbol-registry"),vh=sc("symbols"),mh=sc("op-symbols"),gh=Object.prototype,yh="function"==typeof ah,bh=oc.QObject,_h=!bh||!bh.prototype||!bh.prototype.findChild,wh=pc&&dc(function(){return 7!=al(sh({},"a",{get:function(){return sh(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=oh(gh,e);r&&delete gh[e];sh(t,e,n);r&&t!==gh&&sh(gh,e,r)}:sh,Ah=function(t){var e=vh[t]=al(ah.prototype);e._k=t;return e},Sh=yh&&"symbol"==typeof ah.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof ah},Eh=function(t,e,n){t===gh&&Eh(mh,e,n);hc(t);e=bc(e,!0);hc(n);if(Nc(vh,e)){if(n.enumerable){Nc(t,fh)&&t[fh][e]&&(t[fh][e]=!1);n=al(n,{enumerable:Ac(0,!1)})}else{Nc(t,fh)||sh(t,fh,Ac(1,{}));t[fh][e]=!0}return wh(t,e,n)}return sh(t,e,n)},kh=function(t,e){hc(t);for(var n,r=function(t){var e=el(t),n=Ff.f;if(n)for(var r,i=n(t),o=Uf.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}(e=Mc(e)),i=0,o=r.length;o>i;)Eh(t,n=r[i++],e[n]);return t},Ph=function(t){var e=dh.call(this,t=bc(t,!0));return!(this===gh&&Nc(vh,t)&&!Nc(mh,t))&&(!(e||!Nc(this,t)||!Nc(vh,t)||Nc(this,fh)&&this[fh][t])||e)},Oh=function(t,e){t=Mc(t);e=bc(e,!0);if(t!==gh||!Nc(vh,e)||Nc(mh,e)){var n=oh(t,e);!n||!Nc(vh,e)||Nc(t,fh)&&t[fh][e]||(n.enumerable=!0);return n}},Ih=function(t){for(var e,n=uh(Mc(t)),r=[],i=0;n.length>i;)Nc(vh,e=n[i++])||e==fh||e==ih||r.push(e);return r},Ch=function(t){for(var e,n=t===gh,r=uh(n?mh:Mc(t)),i=[],o=0;r.length>o;)!Nc(vh,e=r[o++])||n&&!Nc(gh,e)||i.push(vh[e]);return i};if(!yh){Lc((ah=function(){if(this instanceof ah)throw TypeError("Symbol is not a constructor!");var t=cc(arguments.length>0?arguments[0]:void 0),e=function(n){this===gh&&e.call(mh,n);Nc(this,fh)&&Nc(this[fh],t)&&(this[fh][t]=!1);wh(this,t,Ac(1,n))};pc&&_h&&wh(gh,t,{configurable:!0,set:e});return Ah(t)}).prototype,"toString",function(){return this._k});rh.f=Oh;wc.f=Eh;Yf.f=eh.f=Ih;Uf.f=Ph;Ff.f=Ch;pc&&Lc(gh,"propertyIsEnumerable",Ph,!0);qf.f=function(t){return Ah(lc(t))}}Gc(Gc.G+Gc.W+Gc.F*!yh,{Symbol:ah});for(var Th="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),jh=0;Th.length>jh;)lc(Th[jh++]);for(var Dh=el(lc.store),Mh=0;Dh.length>Mh;)Kf(Dh[Mh++]);Gc(Gc.S+Gc.F*!yh,"Symbol",{for:function(t){return Nc(ph,t+="")?ph[t]:ph[t]=ah(t)},keyFor:function(t){if(!Sh(t))throw TypeError(t+" is not a symbol!");for(var e in ph)if(ph[e]===t)return e},useSetter:function(){_h=!0},useSimple:function(){_h=!1}});Gc(Gc.S+Gc.F*!yh,"Object",{create:function(t,e){return void 0===e?al(t):kh(al(t),e)},defineProperty:Eh,defineProperties:kh,getOwnPropertyDescriptor:Oh,getOwnPropertyNames:Ih,getOwnPropertySymbols:Ch});ch&&Gc(Gc.S+Gc.F*(!yh||dc(function(){var t=ah();return"[null]"!=lh([t])||"{}"!=lh({a:t})||"{}"!=lh(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);n=e=r[1];if((fc(e)||void 0!==t)&&!Sh(t)){Jf(e)||(e=function(t,e){"function"==typeof n&&(e=n.call(this,t,e));if(!Sh(e))return e});r[1]=e;return lh.apply(ch,r)}}});ah.prototype[hh]||Sc(ah.prototype,hh,ah.prototype.valueOf);fl(ah,"Symbol");fl(Math,"Math",!0);fl(oc.JSON,"JSON",!0);i(function(t){function e(){}function n(t,e,n){this.fn=t;this.context=e;this.once=n||!1}function r(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new n(r,i||t,o),a=u?u+e:e;t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++);return t}function i(t,n){0==--t._eventsCount?t._events=new e:delete t._events[n]}function o(){this._events=new e;this._eventsCount=0}var s=Object.prototype.hasOwnProperty,u="~";if(Object.create){e.prototype=Object.create(null);(new e).__proto__||(u=!1)}o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)s.call(t,e)&&n.push(u?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n};o.prototype.listeners=function(t){var e=u?u+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o};o.prototype.listenerCount=function(t){var e=u?u+t:t,n=this._events[e];return n?n.fn?1:n.length:0};o.prototype.emit=function(t,e,n,r,i,o){var s=u?u+t:t;if(!this._events[s])return!1;var a,c,l=this._events[s],f=arguments.length;if(l.fn){l.once&&this.removeListener(t,l.fn,void 0,!0);switch(f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,o),!0}for(c=1,a=new Array(f-1);c<f;c++)a[c-1]=arguments[c];l.fn.apply(l.context,a)}else{var h,d=l.length;for(c=0;c<d;c++){l[c].once&&this.removeListener(t,l[c].fn,void 0,!0);switch(f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!a)for(h=1,a=new Array(f-1);h<f;h++)a[h-1]=arguments[h];l[c].fn.apply(l[c].context,a)}}}return!0};o.prototype.on=function(t,e,n){return r(this,t,e,n,!1)};o.prototype.once=function(t,e,n){return r(this,t,e,n,!0)};o.prototype.removeListener=function(t,e,n,r){var o=u?u+t:t;if(!this._events[o])return this;if(!e){i(this,o);return this}var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||i(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this};o.prototype.removeAllListeners=function(t){var n;if(t){n=u?u+t:t;this._events[n]&&i(this,n)}else{this._events=new e;this._eventsCount=0}return this};o.prototype.off=o.prototype.removeListener;o.prototype.addListener=o.prototype.on;o.prefixed=u;o.EventEmitter=o;t.exports=o});var xh,Nh={visibility:"hidden",position:"absolute",left:0,top:0,width:0,height:0,margin:0,padding:0,border:0},Rh=/^https?:\/\//,Lh=function(t){var e=null;try{e=t.document.baseURI}catch(t){}return null!=e&&Rh.test(e)?e:null},Vh={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},Fh=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],Uh=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],Gh=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],Wh="undefined"!=typeof window&&void 0!==window.document?window.document:{},zh="fullscreenEnabled"in Wh&&Object.keys(Vh)||Fh[0]in Wh&&Fh||Uh[0]in Wh&&Uh||Gh[0]in Wh&&Gh||[],Bh={get changeEventType(){return zh[Vh.fullscreenchange]},isActive:function(t){var e=t.ownerDocument,n=zh[Vh.fullscreenElement];return null!=e&&e[n]===t},request:function(t){if(Bh.isActive(t))return Promise.resolve();var e=zh[Vh.requestFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):Ui(t[e](),3e3)},exit:function(t){var e=zh[Vh.exitFullscreen];return"function"!=typeof t[e]?Promise.reject(new Error("Not supported")):Ui(t[e](),1e3)}},Hh=Symbol("url"),qh=Symbol("options"),Qh=Symbol("pubSub"),Kh=Symbol("skippable"),Jh=Symbol("slot"),Xh=Symbol("videoSlot"),Yh=Symbol("clickSlot"),Zh=Symbol("width"),$h=Symbol("height"),td=Symbol("viewMode"),ed=Symbol("volumeImpaired"),nd=Symbol("volume"),rd=Symbol("paused"),id=Symbol("stopped"),od=Symbol("loaded"),sd=Symbol("clicked"),ud=Symbol("requested"),ad=Symbol("domEventTracker"),cd=Symbol("tickInterval"),ld=Symbol("quartile"),fd=Symbol("monitors"),hd=Oo,dd={noMutedAutoplayFallback:!1,noPauseOnClickThrough:!1,skipOffset:null},pd={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},vd={position:"absolute",left:"0",top:"0",border:"0",margin:"0",padding:"0"},md=Object.assign({},vd,{cursor:"pointer"}),gd=((xh={}).duration=[["getAdDuration"],"AdDurationChange"],xh.remainingTime=[["getAdRemainingTime"],"AdRemainingTimeChange"],xh.volume=[["getAdVolume"],"AdVolumeChange"],xh.skippableState=[["getAdSkippableState"],"AdSkippableStateChange"],xh.size=[["getAdWidth","getAdHeight"],"AdSizeChange"],xh),yd=function(){function t(t,e){this[Hh]=t;this[qh]=Object.assign({},dd,e);this[Qh]=new Uo;this[Kh]=null==this[qh].skipOffset;this[Zh]=Ue;this[$h]=Ue;this[td]=null;this[ed]=!1;this[nd]=Ue;this[Jh]=null;this[Xh]=null;this[rd]=!0;this[id]=!1;this[od]=!1;this[sd]=!1;this[hd]=!0;this[ad]=new qr;this[ud]={};this[cd]=null;this[ld]=-1;this[fd]=this._buildMonitors();this._onTick=this._onTick.bind(this);for(var n=0;n<Be.length;++n){var r=Be[n];this[r]=Ci(this[r]).bind(this)}fn({rel:"preconnect",href:t,pr:"1.0"})}var e=t.prototype;e._getSlot=function(){return this[Jh]};e.getAdLinear=function(){return!0};e.getAdWidth=function(){return this._isFullscreen()?screen.width:this[Zh]};e.getAdHeight=function(){return this._isFullscreen()?screen.height:this[$h]};e.getAdExpanded=function(){return!1};e.getAdSkippableState=function(){return this[Kh]};e.getAdRemainingTime=function(){if(this[od]&&null!=this[Xh]){var t=this[Xh],e=t.currentTime,n=t.duration;if(isFinite(e)&&isFinite(n)&&n>0&&e>=0)return n-e}return Ue};e.getAdDuration=function(){if(this[od]&&null!=this[Xh]){var t=this[Xh].duration;if(isFinite(t)&&t>0)return t}return Ue};e.getAdVolume=function(){if(this[od]&&null!=this[Xh]){var t=this[Xh],e=t.volume,n=t.muted;if("boolean"==typeof n&&n)return 0;if(isFinite(e))return e}return this[nd]};e.setAdVolume=function(t){this[nd]=t;if(null!=this[Xh]){this._setVolume(t);this[ed]&&this._notifyMonitor("volume")}};e.getAdCompanions=function(){return""};e.getAdIcons=function(){return!1};e.handshakeVersion=function(){return"2.0"};e.initAd=function(t,e,n,r,i,o){var s=this,u=o||{},a=u.videoSlot,c=u.slot,l=u.sendErrorInfo,f=null==c||null==c.ownerDocument;this[Qh].options.sendErrorInfo=!0===l;if(f){c=document.createElement("div");Cr(c,vd)}if(null==a){a=c.ownerDocument.createElement("video");Cr(a,vd);c.appendChild(a)}this[Jh]=c;this[Xh]=a;this[Yh]=c.ownerDocument.createElement("div");Cr(this[Yh],md,!0);c.appendChild(this[Yh]);this[ed]=!("volume"in a&&"muted"in a);this._setDimensions(t,e,n,!1);this._preloadSrc(this[Hh]);var h=function(){s._publish(Ge.AdLoaded)};f?Gr(document).then(function(){document.body.appendChild(c);h()}):h()};e.resizeAd=function(t,e,n){this._setDimensions(t,e,n,!0)};e.startAd=function(){this._request(Ge.AdImpression);this._addDomListeners();this[Xh].pause();if(this[nd]>=0){this._setVolume(this[nd]);this._notifyMonitor("volume")}this._initVideoSlot(this[Hh]);this[od]=!0;this._publish(Ge.AdStarted);this[rd]=!1;this._play()};e.stopAd=function(){this._stop()};e.skipAd=function(){this._request(Ge.AdSkipped);this._stop()};e.pauseAd=function(){this._pause()};e.resumeAd=function(){this._resume()};e.expandAd=function(){};e.collapseAd=function(){};e.subscribe=function(t,e,n){void 0===n&&(n=null);this[Qh].subscribe(t,e,n)};e.unsubscribe=function(t,e){this[Qh].unsubscribe(t,e)};e._publish=function(t,e){void 0===e&&(e=[]);this[Qh].publish(t,e)};e._addDomListeners=function(){this[ad].removeAll();this[ad].add(this[Yh],"click",this._onClickSlotClick,this).add((t=this[Xh].ownerDocument,null!=(e=t)&&"function"==typeof e.addEventListener?t:document),Bh.changeEventType,this._onFullscreenchange,this).addMany(this[Xh],{durationchange:this._onVideoDurationchange,volumechange:this._onVideoVolumechange,playing:this._onVideoSlotPlaying,play:this._onVideoSlotPlay,pause:this._onVideoSlotPause,seeked:this._onVideoSeeked,ended:this._onVideoEnded,error:this._onVideoSlotError},this);var t,e};e._onClickSlotClick=function(){if(this[id])this._publish(Ge.AdClickThru,[null,null,!0]);else if(this[sd]&&this[rd]){if(this[rd]){this[sd]=!1;this._resume()}}else{this[qh].noPauseOnClickThrough||this[rd]||this._pause();this[sd]=!0;this._publish(Ge.AdClickThru,[null,null,!0])}};e._onVideoDurationchange=function(){this._notifyMonitor("duration");this._notifyMonitor("remainingTime")};e._onVideoVolumechange=function(){this._notifyMonitor("volume")};e._onVideoSlotPlaying=function(){this._satisfy(Ge.AdImpression);this._satisfy(Ge.AdPlaying);this._startTicking()};e._onVideoSlotPlay=function(){};e._onVideoSlotPause=function(){this._stopTicking();this._satisfy(Ge.AdPaused);this._satisfyStopRequest()};e._onVideoSeeked=function(){this._notifyMonitor("remainingTime")};e._onVideoEnded=function(){this._onTick();this._stop()};e._onVideoSlotError=function(){var t="Video Playback Error"+function(t){if(null==t||null==t.code&&Ai(t.message))return" (no error code, no error message)";var e=t.code,n=t.message;if(null==e)return": "+n+" (no error code)";var r=pd[e];return null==r?Ai(n)?" (unknown error code "+e+", no error message)":": "+n+" (unknown error code "+e+")":": "+r+" "+(Ai(n)?"(no error message)":"- "+n)}(this[Xh].error),e=new Zr(t,405,null,this[Hh]),n={message:e.toString(),code:e.code,subject:e.subject};this._publish(Ge.AdError,[n.message,n]);this._stop()};e._preloadSrc=function(t){var e=this[Xh],n=e.src,r=e.currentSrc;if(!(null!=n&&""!==n||null!=r&&""!==r)){this[ad].add(this[Xh],"error",this._onVideoSlotError,this);this._initVideoSlot(t)}};e._initVideoSlot=function(t){if("function"==typeof this[Xh].setAttribute){this[Xh].setAttribute("playsinline","true");this[Xh].setAttribute("webkit-playsinline","true")}else this[Xh].playsInline=!0;this[Xh].autoplay=!1;this[Xh].controls=!1;this[Xh].loop=!1;this[Xh].src=t};e._setDimensions=function(t,e,n,r){var i=this;"fullscreen"===n?this._requestFullscreen().catch(function(t){i._publishAdLog("Fullscreen mode failed: "+t)}):this._exitFullscreen().catch(Rr).then(function(){i._setDimensionsNormal(t,e);r&&i._notifyMonitor("size")})};e._setDimensionsNormal=function(t,e){this[Zh]=t;this[$h]=e;this[td]="normal";var n={width:t+"px",height:e+"px"};Cr(this[Xh],n);Cr(this[Jh],n);Cr(this[Yh],n,!0)};e._requestFullscreen=function(){return this._isFullscreen()?Promise.resolve():Bh.request(this[Xh]).then(function(){},function(t){throw t})};e._exitFullscreen=function(){return this._isFullscreen()?Bh.exit(this[Xh].ownerDocument).catch(function(t){throw t}):Promise.resolve()};e._onFullscreenchange=function(){var t=this._isFullscreen()?"fullscreen":"normal";if(t!==this[td]){this[td]=t;this._notifyMonitor("size")}};e._isFullscreen=function(){return null!=this[Xh]&&Bh.isActive(this[Xh])};e._setVolume=function(t){this[Xh].volume!==t&&(this[Xh].volume=t);var e=0===t;this[Xh].muted!==e&&(this[Xh].muted=e)};e._play=function(){var t=this,e=this[qh].noMutedAutoplayFallback,n=this[Xh].muted,r=this[Xh].play();null!=r&&"function"==typeof r.catch?r.catch(function(r){if(n)throw r;t._publishAdLog("Unmuted playback failed: "+r);if(t[rd])t._publishAdLog("Unmuted playback failed and ad is paused, not falling back to muted playback");else{if(!e){t._publishAdLog("Unmuted playback failed, attempting fallback to muted playback");t[Xh].muted=!0;return t[Xh].play()}t._publishAdLog("Unmuted playback failed and fallback to muted playback disabled, giving up")}}).catch(function(e){t._publishAdLog("Muted playback failed: "+e)}):this._publishAdLog("Video slot does not report disallowed play attempts")};e._pause=function(){this[rd]=!0;if(null==this[Xh]||this[Xh].paused)this._publish(Ge.AdPaused);else{this._request(Ge.AdPaused);this[Xh].pause()}};e._resume=function(){this[rd]=!1;if(null!=this[Xh]&&this[Xh].paused){this._request(Ge.AdPlaying);this._play()}else this._publish(Ge.AdPlaying)};e._stop=function(){this._stopTicking();this[rd]=!0;this[id]=!0;this._request(Ge.AdStopped);null==this[Xh]||this[Xh].paused||this[Xh].ended?this._satisfyStopRequest():this[Xh].pause()};e._satisfyStopRequest=function(){if(this._requested(Ge.AdStopped)){this[qh].autoDisposeDisabled||this[ad].removeAll();null!=this[Xh]&&this._resetMediaSrc();this._satisfy(Ge.AdSkipped);this._satisfy(Ge.AdStopped)}};e._resetMediaSrc=function(){var t=this[Xh];if("function"==typeof t.removeAttribute){t.removeAttribute("src");t.load()}else t.src="";this[od]=!1};e._startTicking=function(){if(null==this[cd]){this[cd]=setInterval(this._onTick,250);this._onTick()}};e._stopTicking=function(){if(null!=this[cd]){this._onTick();clearInterval(this[cd]);this[cd]=null}};e._onTick=function(){if(this[od]){var t=this[Xh];if(!(null==t||t.readyState<1||null!=t.error)){this._notifyMonitor("duration");this._notifyMonitor("remainingTime");this._handleSkippableState();this._handleQuartiles()}}};e._handleSkippableState=function(){var t=this[qh].skipOffset,e=this[Xh].currentTime;if(!this[Kh]&&"number"==typeof t&&e>=t){this[Kh]=!0;this._notifyMonitor("skippableState")}};e._handleQuartiles=function(){var t,e=this[Xh],n=e.currentTime,r=e.duration,i=e.ended,o=e.played,s=null!=o&&o.length>0?(t=o,Array.apply(null,t).reduce(function(e,n,r){return e+t.end(r)-t.start(r)},0)):n;if(!(!isFinite(s)||s<0||!isFinite(r)||r<=0)){var u=this[ld],a=i?.25:0;this[ld]=Math.min(Math.max(u,Math.floor((s+a)/r*4)),4);for(var c=u+1;c<=this[ld];++c)this._publish(Qe[c])}};e._request=function(t){this[ud][t]=!0};e._requested=function(t){return!!this[ud][t]};e._satisfy=function(t){if(this._requested(t)){this[ud][t]=!1;this._publish(t)}};e._buildMonitors=function(){for(var t={},e=Object.keys(gd),n=0;n<e.length;++n){var r=e[n],i=gd[r],o=i[0],s=i[1];t[r]=this._buildMonitor(o,s)}return t};e._buildMonitor=function(t,e){var n=this,r=function(){return t.map(function(t){return n[t]()}).join("\0")},i=r();return function(){var t=r();if(t!==i){i=t;n._publish(e)}}};e._notifyMonitor=function(t){this[fd][t]()};e._publishAdLog=function(t){this._publish(Ge.AdLog,[t])};return t}(),bd=mo,_d=Eo,wd=Po,Ad=[/\/adbridge-vpaid\.min\.js(?:\?|#|$)/,/\/\/(?:www\.)?wootag\.com\/player\/(?:ad\/)?v3\/bundle\.js(?:\?|#|$)/,/\/\/(?:www\.)?viewbix\.com\/plugins\/vpaid\.bundle\.js(?:\?|#|$)/,/\/\/(?:[^\/]+\.)?(?:ssl-images|media)-amazon\.com\//],Sd=mo,Ed="".endsWith;N(N.P+N.F*bi("endsWith"),"String",{endsWith:function(t){var e=gi(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=H(e.length),i=void 0===n?r:Math.min(H(n),r),o=String(t);return Ed?Ed.call(e,o,i):e.slice(i-o.length,i)===o}});var kd=at.onFreeze;Ve("freeze",function(t){return function(e){return t&&d(e)?t(kd(e)):e}});var Pd,Od,Id=Object.freeze({DISABLED:"DISABLED",DATE:"DATE",MACRO:"MACRO",CUSTOM:"CUSTOM"}),Cd="event",Td=function(t){if(null!=t)return"string"==typeof t&&t.startsWith("[")&&t.endsWith("]")?t:encodeURIComponent(t)},jd=function(t,e){return Td(t)+"="+Td(e)},Dd=function(t){function e(e){var n;(n=t.call(this,e)||this).setHitType(Cd);return n}n(e,t);var r=e.prototype;r.setEventCategory=function(t){return this.set("ec",t)};r.setEventAction=function(t){return this.set("ea",t)};r.setEventLabel=function(t){return this.set("el",t)};r.setEventValue=function(t){return this.set("ev",t)};return e}(function(){function t(t){this._options=Object.assign({},t);this._params={};this.setProtocolVersion(1)}var n=t.prototype;n.build=function(){return this._baseUrl+"?"+this.buildQueryString()};n.buildQueryString=function(){return Object.entries(this._params).filter(function(t){return null!=t[0]}).map(function(t){var e=t[0],n=t[1];return Array.isArray(n)?n.map(function(t){return jd(e,t)}).join("&"):jd(e,n)}).join("&")+this.buildCacheBusterQueryStr()};n.buildCacheBusterQueryStr=function(){this._options.hasOwnProperty("z")||this.setCacheBusterMode(Id.DATE);var t;switch(this._options.z){case Id.CUSTOM:var e=this._params.z;delete this._params.z;t=encodeURIComponent(e);break;case Id.MACRO:t="[CACHEBUSTING]";break;case Id.DATE:var n=1e6+Math.floor(9e6*Math.random());t=""+(new Date).getTime()+n;break;case Id.DISABLED:default:return""}return"&z="+t};n.setBaseUrl=function(t){this._baseUrl=t;return this};n.set=function(t,e){null!=e&&(this._params[t]=e);return this};n.setCacheBusterMode=function(t){null!=t&&(this._options.z=t);return this};n.setProtocolVersion=function(t){return this.set("v",t)};n.setCtx=function(t){return this.set("ctx",t)};n.setCmp=function(t){return this.set("cmp",t)};n.setTrackingId=function(t){return this.set("tid",t)};n.setClientId=function(t){return this.set("cid",t)};n.setHitType=function(t){return this.set("t",t)};n.setDocumentReferrer=function(t){return this.set("dr",t)};n.setCampaignName=function(t){return this.set("cn",t)};n.setCampaignSource=function(t){return this.set("cs",t)};n.setCampaignMedium=function(t){return this.set("cm",t)};n.setCampaignKeyword=function(t){return this.set("ck",t)};n.setCampaignContent=function(t){return this.set("cc",t)};n.setCampaignId=function(t){return this.set("ci",t)};n.setCustomDimension=function(t,e){return this.set("cd"+t,e)};n.setCustomMetric=function(t,e){return this.set("cm"+t,e)};n.setGdprApplies=function(t){return this.set("gdpr",t)};n.setGdprConsent=function(t){return this.set("gdpr_consent",t)};e(t,[{key:"options",get:function(){return this._options}}]);return t}()),Md=10,xd={timeout:2e3,postAllowed:!1,styles:{position:"absolute",top:0,left:0,width:0,height:0,border:0,pointerEvents:"none",visibility:"hidden"}},Nd=function(){},Rd=function(){function t(t,e){void 0===e&&(e={});this._url=t;this._options=Object.assign({},xd,e);var n=window,r=0;try{for(;r<Md&&n.parent!==n&&null!=n.parent.document.createElement("img");){n=n.parent;++r}}catch(t){}this._window=n}var n=t.prototype;n.load=function(){if(null!=this._deferred)return Promise.reject(new Error("Already loading"));this._deferred=function(){var t={};t.promise=new Promise(function(e,n){t.resolve=e;t.reject=n});return t}();this._deferred.promise.catch(Nd);(this._options.postAllowed&&"function"==typeof navigator.sendBeacon?this._sendBeacon:this._loadPixel).call(this);return this._deferred.promise};n.dispose=function(){this._rejectWith("Disposed")};n._sendBeacon=function(){navigator.sendBeacon(this._url,"")?this._deferred.resolve():this._deferred.reject(new Error("Failed"))};n._loadPixel=function(){this._image=this._window.document.createElement("img");this._image.src=this._url;Object.assign(this._image.style,this._options.styles);this._image.onload=this._onImageLoad.bind(this);this._image.onerror=this._onImageError.bind(this);this._window.document.body.appendChild(this._image);setTimeout(this._onImageTimeout.bind(this),this._options.timeout)};n._onImageLoad=function(){this._deferred.resolve();this._remove()};n._onImageError=function(){this._rejectWith("Unknown error")};n._onImageTimeout=function(){this._rejectWith("Timed out")};n._rejectWith=function(t){this._deferred.reject(new Error(t));this._remove()};n._remove=function(){if(null!=this._image){null!=this._image.parentNode&&this._image.parentNode.removeChild(this._image);this._image=null}};e(t,[{key:"promise",get:function(){return null!=this._deferred?this._deferred.promise:null}}]);return t}(),Ld=Symbol("tracking"),Vd=function(){},Fd=[],Ud=function(){function t(){this[Ld]=[]}var e=t.prototype;e.complete=function(){return new Promise(function(t,e){function n(){if(this[Ld].length>0){i=this[Ld];this[Ld]=[];return Promise.resolve(Promise.all(i)).then(function(t){try{return n}catch(t){return e(t)}},e)}return[1]}function r(){return t()}var i,o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?r.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(n)}.bind(this))};e.track=function(t,e){void 0===e&&(e={});var n=new Rd(t,e),r=n.load().catch(Vd);this[Ld].push(r);Fd.push(r);return n};return t}(),Gd=function(t){t.setBaseUrl("https://pxsrv.net/")},Wd=/^(?:(\w+):)?\/\/(.*)/,zd=/[_%]/g,Bd=function(t){return"_"===t?"_5F":"_"},Hd=function(t){function e(e){var n;n=t.call(this,e)||this;Gd(r(n));null!=e&&e.vast&&n.setCacheBusterMode(Id.MACRO);return n}n(e,t);var i=e.prototype;i.setRedirectUrl=function(t){this._redirectUrl=t;return this};i.build=function(){if(null==this._redirectUrl)return t.prototype.build.call(this);var e=Wd.exec(this._redirectUrl);if(null==e)throw new Error("Invalid redirect URL: "+this._redirectUrl);return this._baseUrl+"t/"+this._buildEmbeddedQueryString()+"/"+(e[1]||"https")+"/"+e[2]};i._buildEmbeddedQueryString=function(){return this.buildQueryString().replace(zd,Bd)};return e}(Dd),qd=[{prop:"placement",prefix:"ZA-"},{prop:"embed",prefix:"ZO-"},{prop:"wrapper",prefix:"ZW-"}],Qd=(Pd=function(t){function r(e){var n;void 0===e&&(e=null);n=t.call(this)||this;null!=e&&(n.config=e);return n}n(r,t);var i=r.prototype;i.trackEvent=function(t,e,n,r){if(null==this._trackingId&&null==this._ctx)throw new Error("Invalid pxsrv configuration");var i;i=null!=n&&"object"!=typeof n?Object.assign({},r,{label:n}):Object.assign({},n);var o=this.buildTrackingUrl(t,e,i);return this.track(o,{postAllowed:!0})};i.buildTrackingUrl=function(t,e,n){var r=new Hd;null!=this._ctx?r.setCtx(this._ctx):r.setTrackingId(this._trackingId);r.setCmp(this._cmp).setClientId(this._clientId).setEventCategory(t).setEventAction(e).setEventLabel(n.label).setEventValue(n.value).setGdprApplies(n.gdpr).setGdprConsent(n.gdpr_consent);Object.keys(n.customDimensions||{}).forEach(function(t){r.setCustomDimension(t,n.customDimensions[t])});Object.keys(n.customMetrics||{}).forEach(function(t){r.setCustomMetric(t,n.customMetrics[t])});null!=n.redirectUrl&&r.setRedirectUrl(n.redirectUrl);r.setCacheBusterMode(n.cacheBusterMode);if(null!=this._baseUrl){var i="function"==typeof this._baseUrl?this._baseUrl(t,e,n):this._baseUrl;r.setBaseUrl(i)}return r.build()};e(r,[{key:"config",set:function(t){null!=t.ctx?this._ctx=t.ctx:this._trackingId=function(t){null!=t.placement&&null!=t.campaign&&(t={placement:t.campaign+"-"+t.placement});var e=qd.find(function(e){var n=e.prop;return null!=t[n]});if(null==e)throw new Error("Invalid pxsrv configuration");return e.prefix+t[e.prop]}(t);this._cmp=t.cmp;this._baseUrl=t.baseUrl;this._clientId=t.client||function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^(new Date/1e9%1+Math.random())%1*(20^t?16:4):4).toString(16):"-");return e}()}}]);return r}(Ud),Od=null,function(){null===Od&&(Od=new Pd);return Od}),Kd=["GuestNotAvailableError","MethodNotAvailableError"],Jd=["initAd","startAd","stopAd","skipAd"],Xd=mo,Yd=function(t,e,n){null==t[e]&&(t[e]=function(){var t=null;try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=this._phasedGuestCallSync(e,i)}catch(e){if(!(null!=e&&Kd.indexOf(e.name)>=0))throw e;t=n}return t})},Zd=function(t,e){null==t[e]&&(t[e]=function(){var t=this;Jd.indexOf(e)>=0&&this[Xd].track(e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];this._phasedGuestCall(e,r).catch(function(n){t._onError(n,e)})})},$d=function(){var t=window.navigator&&window.navigator.connection&&window.navigator.connection.downlink;return null!=t?1024*t:1/0},tp=function(t){if(null!=t){var e=t.error;return null!=e?e:{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno}}return"[Unknown error]"},ep=Symbol("timings"),np=Symbol("eventCount"),rp=Symbol("lastEventTime"),ip=Symbol("handlers"),op=Symbol("configured"),sp=Symbol("configuring"),up=Symbol("gpdrApplies"),ap=Symbol("gdprConsent"),cp=mo,lp=Oo,fp=Ti(),hp=180,dp=["start","load","initAd","AdLoaded","startAd","AdStarted"],pp=Math.random()<.1,vp=document,mp=function(){var t=window,e=0;try{for(;e<10&&t.parent!==t&&null!=t.parent.location&&null!=t.parent.location.hostname;){t=t.parent;++e}}catch(t){}return t}().location.hostname,gp=/\b(data%3A.*?%2C)[^&;]*/gi,yp=function(){function t(t){var e=this;this[lp]=!0;this[ep]={start:fp};this[np]=0;this[rp]=fp;this[ip]=[];this[op]=!1;this[sp]=Vr();this[up]=null;this[ap]=null;var n=function(e){var n=t[cp].guestInfo.mediaFile;return null!=n?n[e]:void 0};this.addDimension(Go,function(){return t[cp].hostInfo.viewMode});this.addDimension(Wo,function(){return n("type")});this.addDimension(zo,function(){var t=n("uri");return"string"==typeof t?t.replace(gp,"$1..."):t});this.addDimension(Bo,function(){return"vpaid-transformer@0.20.34+js"});this.addDimension(Ho,function(){return vp.readyState});this.addDimension(qo,function(){return mp});this.addMetric(Qo,function(){return t.getAdWidth()});this.addMetric(Ko,function(){return t.getAdHeight()});this.addMetric(Jo,function(){return t.getAdVolume()});this.addMetric(Xo,function(){return n("width")});this.addMetric(Yo,function(){return n("height")});this.addMetric(Zo,function(){return n("bitrate")});this.addMetric($o,function(){return t[cp].hostInfo.desiredBitrate});this.addMetric(ts,function(){var t=$d();return isFinite(t)?t:-1});this.addMetric(es,function(){return Ti()-fp});this.addMetric(ns,function(){var t=Ti(),n=t-e[rp];e[rp]=t;return n});this.addMetric(rs,function(){return t[cp].hostInfo.width});this.addMetric(is,function(){return t[cp].hostInfo.height});this.addMetric(os,function(){return t.getAdDuration()});for(var r=function(t){var n=hp+t,r=dp[t],i=dp[t+1];e.addMetric(n,function(){return e._getTimingInfo(r,i)})},i=0;i<dp.length-1;i++)r(i);window.addEventListener("unload",function(){return e.track("global-unload")});window.addEventListener("error",function(t){return e.trackError("global-error",tp(t))});var o=function(n){return t.subscribe(function(){return e.track(n)},n)};o(Ge.AdLoaded);o(Ge.AdStarted);o(Ge.AdImpression);o(Ge.AdStopped);t.subscribe(this._handleAdErrorEvent,Ge.AdError,this);var s=null;try{var u=ni().src,a=vi(u);s=Bi(a)}catch(t){}this.track("load",null,s)}var n=t.prototype;n._handleAdErrorEvent=function(t,e){var n,r=null==e?null:e.code,i=null==r?null:((n={})[10]=r,n);this.trackError(Ge.AdError,t,i,null,!0)};n.configure=function(t){var e=this,n=t.wrapperId,r=t.customDimensions,i=t.customMetrics,o=t.trackingUri,s=t.trackingHost,u=t.adServingId,a=t.ctx,c=t.cmp,l=t.gdpr,f=t.gdpr_consent;if(!(this[op]||null==n&&null==a)){var h={ctx:a,wrapper:n,cmp:c};this._logIds(h);null!=o?h.baseUrl=o:null!=s&&(h.baseUrl="https://"+s);null!=u&&(h.client=u);Qd().config=h;null!=r&&Object.keys(r).forEach(function(t){e.addDimension(t,function(){return r[t]})});null!=i&&Object.keys(i).forEach(function(t){e.addMetric(t,function(){return i[t]})});null!=l&&(this.gdprApplies=l);null!=f&&(this.gdprConsent=f);this[op]=!0;this[sp].resolve()}};n._logIds=function(t){null!=t.cmp&&t.cmp;t.ctx};n.track=function(t,e,n,r){void 0===e&&(e=null);void 0===n&&(n=null);void 0===r&&(r=!1);try{this._addTiming(t);if(!r&&(!pp||this[np]>=100))return;this[np]++;var i=t+(r?"":"/10"),o=this._getPixelInfo(e,n);this._pxsrvTrack("vpaid",i,o)}catch(t){}};n.trackError=function(t,e,n,r,i){var o;void 0===n&&(n=null);void 0===r&&(r=null);void 0===i&&(i=!1);var s=ho(e=e||"[Unknown error]"),u=Object.assign({},n,((o={})[110]=s.substring(0,1e3),o));this.track(t,u,r,i)};n.addDimension=function(t,e){this._addField("customDimensions",t,e)};n.addMetric=function(t,e){this._addField("customMetrics",t,e)};n._addField=function(t,e,n){this[ip].push(function(r){r[t][""+e]=n()})};n._addTiming=function(t){null==this[ep][t]&&(this[ep][t]=Ti())};n._pxsrvTrack=function(t,e,n){var r=this;this[op]?Qd().trackEvent(t,e,n):this[sp].promise.then(function(){n=r._mergeOptions(r._getPixelInfo(null,null),n);Qd().trackEvent(t,e,n)})};n._mergeOptions=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{customDimensions:Object.assign.apply(Object,[{}].concat(e.map(function(t){return t.customDimensions}))),customMetrics:Object.assign.apply(Object,[{}].concat(e.map(function(t){return t.customMetrics}))),gdpr:e.reduce(function(t,e){return null!=e.gdpr?e.gdpr:t},null),gdpr_consent:e.reduce(function(t,e){return null!=e.gdpr_consent?e.gdpr_consent:t},null)}};n._getPixelInfo=function(t,e){var n={customDimensions:{},customMetrics:{},gdpr:this.gdprApplies,gdpr_consent:this.gdprConsent};this[ip].forEach(function(t){try{t(n)}catch(t){}});Object.assign(n.customDimensions,t);Object.assign(n.customMetrics,e);return n};n._getTimingInfo=function(t,e){var n=this[ep][t],r=this[ep][e];return null!=n&&n>0&&null!=r&&r>0?r-n:void 0};e(t,[{key:"configured",get:function(){return this[op]}},{key:"gdprApplies",get:function(){return this[up]},set:function(t){this[up]=t}},{key:"gdprConsent",get:function(){return this[ap]},set:function(t){this[ap]=t}}]);return t}(),bp={width:"100%",height:"100%",pointerEvents:"auto",position:"absolute",top:0,left:0},_p=Symbol("host"),wp=Symbol("guest"),Ap=Symbol("config"),Sp=Symbol("tracking"),Ep=Symbol("hostInfo"),kp=Symbol("guestInfo"),Pp=Symbol("container"),Op=Symbol("topContainer"),Ip=Symbol("containerSelector"),Cp=So,Tp=Ao,jp=go,Dp=yo,Mp=bo,xp={wrapperId:null,duration:null,skipOffset:null,mediaFiles:[],adParameters:null,plugins:[],flags:0},Np=function(t,e){var n=(t.ownerDocument||document).createElement("div");n.id=e;Object.assign(n.style,bp);t.appendChild(n);return n},Rp=function(t){function r(e){var n;(n=t.call(this)||this)[_p]=e;return n}n(r,t);e(r,[{key:"publishedEvents",get:function(){return this[_p][Cp].published}},{key:"width",get:function(){return this._get("width")}},{key:"height",get:function(){return this._get("height")}},{key:"viewMode",get:function(){return this._get("viewMode")}},{key:"desiredBitrate",get:function(){return this._get("desiredBitrate")}},{key:"environmentVariables",get:function(){return this._get("environmentVariables")}},{key:"slot",get:function(){return this._get("slot")}},{key:"videoSlot",get:function(){return this._get("videoSlot")}},{key:"vastChain",get:function(){return this._get("vastChain")}}]);return r}(Br),Lp=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);e(r,[{key:"mediaFile",get:function(){return this._get("mediaFile")}}]);return r}(Br),Vp=function(){function t(t){this[_p]=t;this[wp]=null;this[Ep]=new Rp(t);this[kp]=new Lp;this[Ap]=Object.assign({},xp);this[Sp]=new yp(t);this[Pp]=null;this[Ip]=null;this[Mp]=Ci(this[Mp])}var n=t.prototype;n.publish=function(t,e,n){void 0===e&&(e=[]);void 0===n&&(n=null);return this[_p]._publish(t,e,n)};n.track=function(){var t;(t=this[Sp]).track.apply(t,arguments)};n.trackPixel=function(t,e){t=function(t,e){void 0===e&&(e={});return t.replace(zi,function(t,n){var r=n.toLowerCase();return null!=Wi[r]?Wi[r](e):null!=e[r]?encodeURIComponent(""+e[r]):""})}(t,e);return new Rd(t).load()};n.trackError=function(){var t;(t=this[Sp]).trackError.apply(t,arguments)};n.isFlagEnabled=function(t){return 0!=(this[Ap].flags&t)};n[jp]=function(t){this[Ap]=Object.assign({},xp,this[Ap],t);this[Sp].configure(this[Ap])};n[Dp]=function(t){this[wp]=t};n[Mp]=function(){var t=this[Ep].slot,e=t.ownerDocument||document,n="vpaid-container-"+yn(),r=n+"-0",i=e.createElement("style");i.textContent="#"+r+", #"+r+" :not(html) { \n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  background: none;\n  opacity: 1;\n  border: none;\n  outline: none;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n }";t.appendChild(i);var o=Np(t,r);this[Op]=o;for(var s=o,u="#"+o.id,a=1;a<5;++a)u+=" #"+(s=Np(s,n+"-"+a)).id;this[Pp]=s;this[Ip]=u};e(t,[{key:"host",get:function(){return this[_p]}},{key:"guest",get:function(){return this[wp]}},{key:"hostInfo",get:function(){return this[Ep]}},{key:"guestInfo",get:function(){return this[kp]}},{key:"config",get:function(){return this[Ap]}},{key:"plugins",get:function(){return this[_p][Tp].plugins}},{key:"tracking",get:function(){return this[Sp]}},{key:"container",get:function(){return this[Pp]}},{key:"topContainer",get:function(){return this[Op]}},{key:"containerSelector",get:function(){return this[Ip]}}]);return t}(),Fp=Symbol("guest"),Up=Symbol("guestVpaidVersion"),Gp=Symbol("guestIframe"),Wp=Symbol("guestSubscriptions"),zp=Symbol("managingSlotSize"),Bp=Symbol("hadError"),Hp=Symbol("isLoaded"),qp=Ao,Qp=So,Kp=mo,Jp=Eo,Xp=Po,Yp=Oo,Zp=function(){function t(t){void 0===t&&(t={});this[qp]=new Li;this[Qp]=new Uo;this[Fp]=null;this[Gp]=null;this[Wp]=[];this[zp]=!1;this[Bp]=!1;this[Hp]=!1;this[Kp]=new Vp(this);this[Xp]=t}var e=t.prototype;e.subscribe=function(t,e,n){var r=this;void 0===n&&(n=null);this[qp].runPhaseSync("subscribe",[t,e,n],function(){r[Qp].subscribe(t,e,n)},function(t){return r._onError(t,"subscribe")})};e.unsubscribe=function(t,e){var n=this;this[qp].runPhaseSync("unsubscribe",[t,e],function(){n[Qp].unsubscribe(t,e)},function(t){return n._onError(t,"unsubscribe")})};e.handshakeVersion=function(t){this[Up]=t;return"2.0"};e.initAd=function(t,e,n,r,i,o){this[Kp].track("initAd");this._initAdAsync(t,e,n,r,i,o)};e.resizeAd=function(t,e,n){var r=this,i=this[Kp].hostInfo;try{i._putAll({width:t,height:e,viewMode:n});this._phasedGuestCall("resizeAd",[t,e,n]).catch(function(t){r._onError(t,"resizeAd")})}catch(t){this._onError(t,"resizeAd")}};e._createGuest=function(t){return new Promise(function(t,e){return e(new Error("Method is abstract"))})};e._initAdAsync=function(t,e,n,r,i,o){return new Promise(function(s,u){var a,c,l,f,h,d,p,v,m,g;c=(a=this[Kp]).hostInfo;var y=function(){try{return s()}catch(t){return u(t)}},b=function(t){try{this._onError(t,"initAd");return y()}catch(t){return u(t)}}.bind(this);try{c._putAll({width:t,height:e,viewMode:n,desiredBitrate:r,environmentVariables:o});if(null==o)a.track("no-envvars");else{l=o.slot,f=o.videoSlot,h=o.sendErrorInfo;c._putAll({slot:l,videoSlot:f});this[Qp].options.sendErrorInfo=!0===h;if(null==l)a.track("no-slot");else{this[zp]=null!=l.style&&(0===l.clientWidth||0===l.clientHeight);this._maybeResizeSlot(t,e)}null==f&&a.track("no-video-slot")}return Promise.resolve(this._createGuest({width:t,height:e,viewMode:n,desiredBitrate:r,creativeData:i,envVars:o})).then(function(i){try{p=(d=i).iframe,v=d.vpaid,m=d.adParameters;this[Fp]=v;this[Gp]=p;this._guestSubscribeAll();return Promise.resolve(this._phasedGuestCall("handshakeVersion",[this[Up]],!0)).then(function(i){try{g={AdParameters:m};return Promise.resolve(this._phasedGuestCall("initAd",[t,e,n,r,g,Object.assign({},o,{sendErrorInfo:!0})])).then(function(t){try{return y()}catch(t){return b(t)}},b)}catch(t){return b(t)}}.bind(this),b)}catch(t){return b(t)}}.bind(this),b)}catch(t){b(t)}}.bind(this))};e._maybeResizeSlot=function(t,e){if(this[zp]){var n=this[Kp].hostInfo.slot;Object.assign(n.style,{width:t+"px",height:e+"px"})}};e._publish=function(t,e,n){void 0===e&&(e=[]);void 0===n&&(n=null);switch(t){case Ge.AdError:var r=e[0];if(!this._processErrorAndDecideOnPublish({error:r,method:n}))return Promise.resolve();if("guest"!==n)return this._phasedGuestEvent(t,[ho(r)]);break;case Ge.AdClickThru:if("string"!=typeof e[0])return this._phasedGuestEvent(t,[this[Jp]])}return this._phasedGuestEvent(t,e)};e._guestSubscribeAll=function(){for(var t=this,e=Object.keys(Ge).map(function(t){return Ge[t]}),n=function(n){var r=e[n],i=[function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._onGuestEvent(r,n)},r];t._guestCall("subscribe",i);t[Wp].push(i)},r=0;r<e.length;++r)n(r)};e._guestUnsubscribeAll=function(){if(null!=this[Fp])for(var t=this[Wp].splice(0),e=0;e<t.length;++e)try{this._guestCall("unsubscribe",t[e])}catch(t){}};e._onGuestEvent=function(t,e){switch(t){case Ge.AdLoaded:this._handleAdLoadedGuestEvent(e);break;case Ge.AdError:this._handleAdErrorGuestEvent(e);break;default:this._publish(t,e,"guest")}};e._handleAdLoadedGuestEvent=function(t){!0===this[Xp].doNotProxyVpaidIfAdNotLoaded&&(this[Hp]=!0);this._publish(Ge.AdLoaded,t,"guest")};e._handleAdErrorGuestEvent=function(t){var e,n=t[0],r=t[1];e=this._guestIsInternalVpaid()?r:{message:"VAST error 901 due to AdError event"+(Ai(n)?" (no AdError message)":": "+n),code:901,cause:null==r?null:r};this._publish(Ge.AdError,[e.message,e],"guest")};e._guestIsInternalVpaid=function(){return null!=this[Fp]&&!0===this[Fp][Yp]};e._guestCall=function(t,e){if(null==this[Fp])throw new Yr;if(!0===this[Xp].doNotProxyVpaidIfAdNotLoaded&&!1===this[Hp]&&"initAd"!==t&&"subscribe"!==t&&"unsubscribe"!==t&&"handshakeVersion"!==t)throw new Yr;"resizeAd"===t&&this._maybeResizeSlot.apply(this,e);var n=this[Fp][t];if("function"!=typeof n)throw new $r(t);return n.apply(this[Fp],e)};e._phasedGuestCallSync=function(t,e){var n=this;return this[qp].runPhaseSync(t,e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n._guestCall(t,r)},function(e){return n._onError(e,t,!0)})};e._phasedGuestCall=function(t,e,n){return new Promise(function(r,i){var o;o=this;void 0===n&&(n=!1);var s=function(){try{return r()}catch(t){return i(t)}},u=function(e){try{this._onError(e,t,!0);return s()}catch(t){return i(t)}}.bind(this);try{return Promise.resolve(this[qp].runPhase(t,e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=o._guestCall(t,r);return n?s:null},function(){return o[Bp]})).then(function(t){try{return s()}catch(t){return u(t)}},u)}catch(t){u(t)}}.bind(this))};e._phasedGuestEvent=function(t,e){return new Promise(function(n,r){var i;i=this;var o=function(){try{t===Ge.AdStopped&&this._removeGuestIframe();if(t===Ge.AdError&&this[Xp].destroyAdOnAdError){this._unloadVideoSlot();this._removeGuestIframe();this._removeAdContainers()}return n()}catch(t){return r(t)}}.bind(this),s=function(e){try{this._onError(e,t);return o()}catch(t){return r(t)}}.bind(this);try{return Promise.resolve(this[qp].runPhase(t,e,function(){var e=arguments;return new Promise(function(n,r){function o(){for(s=e.length,u=new Array(s),a=0;a<s;a++)u[a]=e[a];i[Qp].publish(t,u);return n()}var s,u,a;return Ke.indexOf(t)>=0?Promise.resolve(i._dispose()).then(function(t){try{return o.call(this)}catch(t){return r(t)}}.bind(this),r):o.call(this)})},function(){return i[Bp]&&Ke.indexOf(t)<0})).then(function(t){try{return o()}catch(t){return s(t)}},s)}catch(t){s(t)}}.bind(this))};e._removeGuestIframe=function(){try{this[Gp].parentNode.removeChild(this[Gp])}catch(t){}this[Gp]=null};e._removeAdContainers=function(){try{this[Kp].topContainer.parentNode.removeChild(this[Kp].topContainer)}catch(t){}};e._unloadVideoSlot=function(){try{var t=this[Kp].hostInfo.videoSlot;t.pause();t.removeAttribute("src");t.load()}catch(t){}};e._addPlugin=function(t){this[qp].addPlugin(t)};e._processErrorAndDecideOnPublish=function(t,e){if(null!=t&&"GuestNotAvailableError"===t.name)return!1;var n=!this[Bp];if(n){this[Bp]=!0;this._guestUnsubscribeAll()}return n};e._createErrorMessage=function(t,e,n){void 0===n&&(n=!1);return t instanceof Zr?t.toString():n?"VAST error 901 due to error on "+e+(null==t||Ai(t.message)?" (no error message)":": "+t.message):null==t.message?"Unknown internal error":ho(t.message).substring(0,1e3)};e._onError=function(t,e,n){void 0===n&&(n=!1);if(this._processErrorAndDecideOnPublish(t,e)){var r=this._createErrorMessage(t,e,n);this._phasedGuestEvent(Ge.AdError,[r,{message:r,code:null!=t.code?t.code:"901"}])}};e._dispose=function(){return new Promise(function(t,e){if(this[Xp].autoDisposeDisabled)return t();var n=function(){try{var n=function(){try{return t()}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(new Promise(function(t,e){function n(){if(Fd.length>0){i=Fd;Fd=[];return Promise.resolve(Promise.all(i)).then(function(t){try{return n}catch(t){return e(t)}},e)}return[1]}function r(){return t()}var i,o;return(o=function(t){for(;t;){if(t.then)return void t.then(o,e);try{if(t.pop){if(t.length)return t.pop()?r.call(this):t;t=n}else t=t.call(this)}catch(t){return e(t)}}}.bind(this))(n)})).then(function(t){try{return n()}catch(t){return r()}},r)}catch(t){r()}}catch(t){return e(t)}},r=function(t){try{return n()}catch(t){return e(t)}};try{return Promise.resolve(this[qp].dispose()).then(function(t){try{return n()}catch(t){return r()}},r)}catch(t){r()}}.bind(this))};return t}();!function(t){!function(t){for(var e=Object.keys(qe),n=0;n<e.length;n++){var r=e[n],i=qe[r],o=i.defaultValue,s=i.writable,u=Mi(r);Yd(t,"get"+u,o);s&&Zd(t,"set"+u)}}(t);!function(t){for(var e=Object.keys(ze).map(function(t){return ze[t]}),n=0;n<e.length;++n){var r=e[n];Zd(t,r)}}(t)}(Zp.prototype);var $p,tv,ev=mo,nv=go,rv=yo,iv=ko,ov=Symbol("loaders"),sv=function(t){function e(e,n){var r;void 0===n&&(n={});(r=t.call(this,n)||this)[ov]=e;r._preprocessHashConfig();return r}n(e,t);var r=e.prototype;r.getAdDuration=function(){return this._getPropertyValueWithConfigFallback("adDuration",this[ev].config.duration)};r.getAdWidth=function(){return this._getPropertyValueWithConfigFallback("adWidth",this[ev].hostInfo.width)};r.getAdHeight=function(){return this._getPropertyValueWithConfigFallback("adHeight",this[ev].hostInfo.height)};r.getAdCompanions=function(){return null!=this[iv]?this[iv]:t.prototype.getAdCompanions.call(this)};r._getPropertyValueWithConfigFallback=function(e,n){var r=t.prototype["get"+Mi(e)].call(this);return r===qe[e].defaultValue&&null!=n?n:r};r._createGuest=function(t){return new Promise(function(e,n){var r,i,o,s,u;r=function(e){var n=function(t){return null==t||"string"==typeof t?t:t.AdParameters}(t.creativeData);try{return JSON.parse(n)}catch(t){throw new Error('Failed to parse AdParameters "'+n+'"')}}();this._loadConfig(r);return this[ev].tracking.configured?Promise.resolve(this._loadMediaFile(r.mediaFiles,r.adParameters,t)).then(function(t){try{o=(i=t).iframe,s=i.vpaid,u=i.adParameters;this[ev][rv](s);return e({iframe:o,vpaid:s,adParameters:u})}catch(t){return n(t)}}.bind(this),n):n(new Error("Invalid configuration"))}.bind(this))};r._loadMediaFile=function(t,e,n){return new Promise(function(r,i){var o,s,u,a,c,l,f,h,d,p,v,m;o=n.width,s=n.height,u=n.desiredBitrate,a=n.envVars.videoSlot;c=Object.keys(this[ov]);l={noImaVpaid:this[ev].isFlagEnabled(2)};if(null==(f=function(t,e,n,r,i,o,s){void 0===o&&(o=Object.keys(ao));void 0===s&&(s={});return function(t,e,n){for(var r=Object.keys(t).sort(co),i=null,o=0;null==i&&o<r.length;){var s=r[o],u=t[s];i=(0,ao[s])(u,e,n);++o}return i}(function(t,e,n){for(var r={},i=0;i<t.length;++i){var o=t[i],s=Ii(o);if(e.indexOf(s)>=0){null==r[s]&&(r[s]=[]);r[s].push(o)}}n&&function(t){if((function(){var t=null;try{t=window.parent.google.ima.VERSION}catch(t){}return"string"==typeof t}()||Yi.test(window.location.href))&&null!=t.vpaid){var e=t.vpaid.filter(function(t){return e=t.uri,!Zi.test(e);var e});e.length>0?t.vpaid=e:Object.keys(t).length>1&&delete t.vpaid}}(r);return r}(t,o,s.noImaVpaid),function(t,e,n){var r=so(t*$i),i=so(e*$i),o=so(t),s=so(e),u=so(n);return[{filter:function(t){var e=t.width,n=t.height,a=t.bitrate;return e>=o&&e<=r&&n>=s&&n<=i&&a<=u},selector:ro},{filter:function(t){var e=t.width,n=t.height,r=t.bitrate;return e<=o&&n<=s&&r<=u},selector:io},{filter:function(t){var e=t.bitrate;return isFinite(u)&&e<=u},selector:io},{filter:function(){return!0},selector:ro}]}(e,n,r),i)}(t,o,s,u,a,c,l)))return i(new Zr("No valid media files found",403));this[ev].guestInfo._put("mediaFile",f);h=Ii(f);if(null==(d=this[ov][h]))return i(new Zr("Unsupported media file of type "+h,403));p=vo();this[ev].tracking.addMetric(116,function(){return p});return Promise.resolve(d(this,f,e,n)).then(function(t){try{v=t;m=vo();this[ev].tracking.addMetric(117,function(){return m});return r(v)}catch(t){return i(t)}}.bind(this),i)}.bind(this))};r._preprocessHashConfig=function(){var t=ni();if(null!=t){var e,n,r=(n=(e=t.src).indexOf("#"))>=0?e.substr(n+1):null;null!=r&&""!==r&&this._loadConfig(decodeURIComponent(r))}};r._loadConfig=function(t){if(null!=t){this[ev][nv](t);this._addPlugins(t.plugins)}};r._addPlugins=function(t){if(!(null==t||this[ev].plugins.length>0)&&0!==t.length)for(var e={},n=0;n<t.length;++n){var r=t[n],i=r.id,o=r.config,s=void 0,u=i.indexOf(".");if(u<0)s=e[i]=o||{};else{var a=i.substr(0,u);s=Object.assign({},e[a],o)}try{this._createAndAddPlugin(i,s)}catch(t){console.warn('Error creating plugin "'+i+'": '+t)}}};r._createAndAddPlugin=function(t,e){var n=Ro.create(t,e,this[ev]);this._addPlugin(n);return n};return e}(Zp),uv=(($p={}).vpaid=function(t,e,n,r){return new Promise(function(i,o){var s,u,a,c,l;s=t[Sd].isFlagEnabled(4)||(l=e.uri,Ad.some(function(t){return t.test(l)}))?"inline":null;return Promise.resolve(function(t,e,n){return new Promise(function(r,i){void 0===n&&(n={});return r(("inline"===n.mode?function(t,e){return new Promise(function(n,r){var i,o,s,u;i=e.ownerDocument;o=i.defaultView;s=o.getVPAIDAd;delete o.getVPAIDAd;return Promise.resolve(mi(t,null,i)).then(function(t){try{try{u=o.getVPAIDAd()}finally{o.getVPAIDAd=s}return n({vpaid:u})}catch(t){return r(t)}},r)})}:function(t,e){return new Promise(function(n,r){var i,o,s,u,a;return Promise.resolve(function(t,e,n,r){return new Promise(function(i,o){void 0===n&&(n=!1);void 0===r&&(r="about:blank");return Promise.resolve(Gr(t.ownerDocument)).then(function(s){try{return i(function(t,e,n,r){return new Promise(function(i,o){var s,u;s=t.ownerDocument.createElement("iframe");u=Ur(s,"load");s.loading="eager";s.frameBorder="0";s.scrolling="no";Cr(s,e,n);s.src=r;t.appendChild(s);return Promise.resolve(Promise.race([u,Wr(s)])).then(function(t){try{return i(s)}catch(t){return o(t)}},o)})}(t,e,n,r))}catch(t){return o(t)}},o)})}(e,Nh,!0)).then(function(e){try{o=(i=e).contentWindow;s=o.document;u=function(t){return function(t,e,n){for(var r=0,i=e(t);null==i&&t!==t.parent&&r<10;){i=e(t=t.parent);++r}return i}(t,Lh)}(o);s.write("<html><head>"+(null!=u?'<base href="'+function(t){var e=document.createElement("span");e.textContent=t;return e.innerHTML}(u)+'">':"")+"</head><body></body></html>");s.close();return Promise.resolve(mi(t,null,s)).then(function(t){try{a=o.getVPAIDAd();return n({iframe:i,vpaid:a})}catch(t){return r(t)}},r)}catch(t){return r(t)}},r)})})(t,e))})}(e.uri,r.envVars.slot,{mode:s})).then(function(t){try{a=(u=t).iframe,c=u.vpaid;return i({iframe:a,vpaid:c,adParameters:n})}catch(t){return o(t)}},o)})},$p.video=function(t,e,n,r){return new Promise(function(r,i){var o=t[bd].config,s=o.clickThroughUrl,u=o.skipOffset;null==t[_d]&&(t[_d]=s);var a=t[bd].isFlagEnabled(1),c=t[bd].isFlagEnabled(8);return r({vpaid:new yd(e.uri,Object.assign({},t[wd],{skipOffset:u,noMutedAutoplayFallback:a,noPauseOnClickThrough:c})),adParameters:n})})},$p);tv=function(){!function(t){for(var e=function(t){for(var e=[],n=t,r=0;r++<10&&null!=n&&n!==Object.prototype;){var i=Object.getOwnPropertyDescriptors(n);e.push.apply(e,Object.keys(i).filter(function(t){return e.indexOf(t)<0}));n=Object.getPrototypeOf(n)}return e.filter(function(e){return si.indexOf(e)<0&&"function"==typeof t[e]})}(t),n=0;n<e.length;++n){var r=e[n];ui(t,r)}}(sv);return new sv(uv,{doNotProxyVpaidIfAdNotLoaded:!0})}(),window.getVPAIDAd=function(){return tv}}();
